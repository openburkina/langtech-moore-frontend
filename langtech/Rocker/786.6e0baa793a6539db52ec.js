(self.webpackChunkrocker=self.webpackChunkrocker||[]).push([[786],{6786:(t,e,i)=>{"use strict";i.r(e),i.d(e,{ContributeursModule:()=>Q});var n=i(1116),r=i(5424),o=i(6304),u=i(8318),a=i(878),s=i(2710),c=i(4107),l=i(5366),d=i(5035),g=i(1462),b=i(2498),Z=i(2235);function p(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",15),l.TgZ(1,"div",16),l.TgZ(2,"div",25),l.TgZ(3,"div",26),l._uU(4," Rechercher un contributeur par les crit\xe8res suivants "),l.qZA(),l.qZA(),l._UZ(5,"hr"),l.TgZ(6,"div",25),l.TgZ(7,"form",27),l.NdJ("ngSubmit",function(){return l.CHM(t),l.oxw().onSearch()}),l.TgZ(8,"div",28),l.TgZ(9,"div",29),l.TgZ(10,"label",30),l._uU(11,"Nom"),l.qZA(),l._UZ(12,"input",31),l.qZA(),l.TgZ(13,"div",29),l.TgZ(14,"label",32),l._uU(15,"Pr\xe9nom"),l.qZA(),l._UZ(16,"input",33),l.qZA(),l.TgZ(17,"div",29),l.TgZ(18,"label",34),l._uU(19,"Adresse email"),l.qZA(),l._UZ(20,"input",35),l.qZA(),l.TgZ(21,"div",29),l.TgZ(22,"label",36),l._uU(23,"T\xe9l\xe9phone"),l.qZA(),l._UZ(24,"input",37),l.qZA(),l.TgZ(25,"div",38),l.TgZ(26,"button",39),l.NdJ("click",function(){return l.CHM(t),l.oxw().onResetSearchForm()}),l._UZ(27,"i",40),l._uU(28," R\xe9nitialiser "),l.qZA(),l.TgZ(29,"button",41),l._UZ(30,"i",42),l._uU(31," Rechercher "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=l.oxw();l.xp6(7),l.Q6J("formGroup",t.formSearch)}}function h(t,e){1&t&&(l.TgZ(0,"div",43),l.TgZ(1,"h6"),l._uU(2," Aucune contribution enregistr\xe9e ! "),l.qZA(),l.qZA())}function m(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l.TgZ(8,"div",48),l.TgZ(9,"button",49),l.NdJ("click",function(){const e=l.CHM(t).$implicit;return l.oxw(2).gotoDetail(e)}),l._UZ(10,"i",50),l.qZA(),l.TgZ(11,"button",51),l.NdJ("click",function(){const e=l.CHM(t).$implicit;return l.oxw(2).openConfirmdelete(e)}),l._UZ(12,"i",52),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit,i=e.index;l.xp6(2),l.Oqu(i+1),l.xp6(2),l.Oqu(t.telephone+" - "+t.nom+" "+t.prenom+" "+t.telephone),l.xp6(2),l.Oqu(t.pointFidelite)}}function f(t,e){if(1&t&&(l.TgZ(0,"div",44),l.TgZ(1,"table",45),l.TgZ(2,"thead",46),l.TgZ(3,"tr"),l.TgZ(4,"th"),l._uU(5,"#"),l.qZA(),l.TgZ(6,"th"),l._uU(7,"Contributeur"),l.qZA(),l.TgZ(8,"th"),l._uU(9,"Point de fidelit\xe9"),l.qZA(),l.TgZ(10,"th"),l._uU(11,"Actions"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(12,"tbody"),l.YNc(13,m,13,3,"tr",47),l.ALo(14,"async"),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw();l.xp6(13),l.Q6J("ngForOf",l.lcZ(14,1,t.contributeurs$))}}function T(t,e){1&t&&l._uU(0,"Pr\xe9c.")}function A(t,e){1&t&&l._uU(0,"Suiv.")}let q=(()=>{class t{constructor(t,e,i,n,r){this.contributeurService=t,this.fb=e,this.notification=i,this.modalService=n,this.router=r,this.contributeurs$=new u.y,this.totalItems=0,this.itemsPerPage=10,this.maxSize=20,this.page=0,this.ngbPaginationPage=1,this.contributeur=new s.V,this.contributeurs=[]}ngOnInit(){this.initSearchForm(),this.onSearch()}initSearchForm(){this.formSearch=this.fb.group({nom:null,prenom:null,email:null,telephone:null})}onResetSearchForm(){}onChangeFilterStatus(){this.enableShowFilter=!this.enableShowFilter}onSearch(){this.contributeur.nom=this.formSearch.get("nom").value,this.contributeur.prenom=this.formSearch.get("prenom").value,this.contributeur.email=this.formSearch.get("email").value,this.contributeur.telephone=this.formSearch.get("telephone").value,this.contributeur.typeUtilisateur="CONTRIBUTEUR",this.getContributeurs()}getContributeurs(){this.contributeurService.getContributeursWitCriteria(this.contributeur,{page:this.page,size:this.itemsPerPage}).subscribe({next:t=>{null!==t.body&&(this.totalItems=Number(t.headers.get("X-Total-Count")),this.contributeurs$=(0,a.of)(t.body),this.contributeurs=t.body,console.warn("contributeurs",this.contributeurs))},error:t=>{this.notification.open("danger",t.error.detail?t.error.detail:"Une erreur est survenue lors de la r\xe9cup\xe9ration des contributeurs !")}})}loadPage(t){this.page=t-1,this.getContributeurs()}openConfirmdelete(t){var e=this;return(0,o.Z)(function*(){const i=e.modalService.open(c.X,{size:"lg",backdrop:"static",centered:!0});i.componentInstance.message=`Voulez-vous supprimer le contributeur #${t.id} ?`,yield i.result.then(i=>{!0===i&&e.deleteContributeur(t)})})()}deleteContributeur(t){const e=this.contributeurService.deleteContributeur(t.id).subscribe(()=>{e.unsubscribe(),this.notification.open("success","Le contributeur a \xe9t\xe9 supprim\xe9 avec succ\xe8s !"),this.getContributeurs()},t=>{this.notification.open("danger",t.error.detail?t.error.detail:"Une erreur est survenue lors de la suppression de la source !"),e.unsubscribe()})}gotoDetail(t){console.warn("contributeur detail",t),this.router.navigate(["pages","contributeurs","detail",t.id])}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(d.W),l.Y36(g.qu),l.Y36(b.g),l.Y36(Z.FF),l.Y36(r.F0))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-contributeurs"]],decls:29,vars:12,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-3"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["href","#",3,"click"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"btn-group"],["type","button",1,"btn","btn-white","text-primary",3,"click"],[1,"btn-group",3,"click"],["type","button",1,"btn","btn-white","dropdown-toggle","dropdown-toggle-nocaret","px-1"],["class","card",4,"ngIf"],[1,"card"],[1,"card-body"],[1,"d-lg-flex","align-items-center","mb-4","gap-3"],["class","position-relative alert alert-warning",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"d-flex"],[1,"mx-auto"],[1,"pagination",3,"collectionSize","page","pageSize","maxSize","rotate","boundaryLinks","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],[1,"row","align-items-center"],[1,"col-lg-12","col-xl-12","h5","text-primary"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-12","col-md-3","mb-3"],["for","nom",1,"col-form-label"],["type","text","name","nom","formControlName","nom","id","nom",1,"form-control"],["for","prenom",1,"col-form-label"],["type","text","name","prenom","formControlName","prenom","id","prenom",1,"form-control"],["for","email",1,"col-form-label"],["type","text","name","email","formControlName","email","id","email",1,"form-control"],["for","telephone",1,"col-form-label"],["type","text","name","telephone","formControlName","telephone","id","telephone",1,"form-control"],[1,"form-group","text-center"],["type","reset",1,"btn","btn-outline-danger","radius-30","mx-3",3,"click"],[1,"bx","bx-x-circle","mr-1"],["type","submit",1,"btn","btn-outline-success","radius-30"],[1,"bx","bx-search"],[1,"position-relative","alert","alert-warning"],[1,"table-responsive"],[1,"table","mb-0"],[1,"table-light"],[4,"ngFor","ngForOf"],[1,"d-flex","order-actions"],["type","button",1,"btn","btn-outline-warning","btn-sm","radius-30","px-2",3,"click"],[1,"bx","bx-show-alt"],["type","button",1,"btn","btn-outline-danger","btn-sm","radius-30","px-2","ms-3",3,"click"],[1,"bx","bxs-trash"]],template:function(t,e){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l._uU(2,"Contributeurs"),l.qZA(),l.TgZ(3,"div",2),l.TgZ(4,"nav",3),l.TgZ(5,"ol",4),l.TgZ(6,"li",5),l.TgZ(7,"a",6),l.NdJ("click",function(t){return t.preventDefault()}),l._UZ(8,"i",7),l.qZA(),l.qZA(),l.TgZ(9,"li",8),l._uU(10,"Liste des contributeurs"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(11,"div",9),l.TgZ(12,"div",10),l.TgZ(13,"button",11),l.NdJ("click",function(){return e.onChangeFilterStatus()}),l._uU(14),l.qZA(),l.TgZ(15,"div",12),l.NdJ("click",function(){return e.onChangeFilterStatus()}),l.TgZ(16,"button",13),l._UZ(17,"i"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(18,p,32,1,"div",14),l.TgZ(19,"div",15),l.TgZ(20,"div",16),l.TgZ(21,"div",17),l.YNc(22,h,3,0,"div",18),l.qZA(),l.YNc(23,f,15,3,"div",19),l.qZA(),l.qZA(),l.TgZ(24,"div",20),l.TgZ(25,"div",21),l.TgZ(26,"ngb-pagination",22),l.NdJ("pageChange",function(t){return e.ngbPaginationPage=t})("pageChange",function(t){return e.loadPage(t)}),l.YNc(27,T,1,0,"ng-template",23),l.YNc(28,A,1,0,"ng-template",24),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(14),l.hij(" ",e.enableShowFilter?"Fermer le filtre":"Filtrer la liste"," "),l.xp6(3),l.Tol(e.enableShowFilter?"lni lni-close text-danger":"bx bx-slider"),l.xp6(1),l.Q6J("ngIf",e.enableShowFilter),l.xp6(4),l.Q6J("ngIf",!e.contributeurs$),l.xp6(1),l.Q6J("ngIf",e.contributeurs$),l.xp6(3),l.Q6J("collectionSize",e.totalItems)("page",e.ngbPaginationPage)("pageSize",e.itemsPerPage)("maxSize",e.maxSize)("rotate",!0)("boundaryLinks",!1))},directives:[n.O5,Z.N9,Z.ju,Z.GZ,g._Y,g.JL,g.sg,g.Fj,g.JJ,g.u,n.sg],pipes:[n.Ov],styles:["ngb-pagination[_ngcontent-%COMP%]     ul>li:not(.active)>a{color:#1d459a!important;text-decoration:none!important;border:1px solid #fff!important;font-weight:500!important;font-size:18px!important;padding:6px 12px!important}ngb-pagination[_ngcontent-%COMP%]     ul>li.active>a{background-color:#1d459a!important;text-decoration:none!important;border:1px solid #fff!important;border-radius:5px!important;font-weight:500!important;font-size:18px!important;padding:6px 12px!important}"]}),t})();var x=i(453),v=i(7756),U=i(7598),_=i(467);function S(t,e){if(1&t&&(l.TgZ(0,"option",56),l._uU(1),l.qZA()),2&t){const t=e.$implicit;l.Q6J("ngValue",t.id),l.xp6(1),l.hij(" ",t.nom+" "+t.prenom+" "+t.email," ")}}function y(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",39),l.TgZ(1,"div",6),l.TgZ(2,"div",44),l.TgZ(3,"div",45),l._uU(4," Rechercher une demande par les crit\xe8res suivants "),l.qZA(),l.qZA(),l._UZ(5,"hr"),l.TgZ(6,"div",44),l.TgZ(7,"form",46),l.NdJ("ngSubmit",function(){return l.CHM(t),l.oxw(2).onSearch()}),l.TgZ(8,"div",2),l.TgZ(9,"div",47),l.TgZ(10,"label",48),l._uU(11,"Contributeur"),l.qZA(),l.TgZ(12,"select",49),l.TgZ(13,"option",50),l._uU(14,"--S\xe9lectionner le contributeur--"),l.qZA(),l.YNc(15,S,2,2,"option",51),l.ALo(16,"async"),l.qZA(),l.qZA(),l.TgZ(17,"div",47),l.TgZ(18,"label",52),l._uU(19,"Source de donn\xe9es"),l.qZA(),l._UZ(20,"input",53),l.qZA(),l.TgZ(21,"div",47),l.TgZ(22,"label",54),l._uU(23,"Statut de la traduction"),l.qZA(),l.TgZ(24,"select",55),l.TgZ(25,"option",50),l._uU(26,"--S\xe9lectionner le statut--"),l.qZA(),l.TgZ(27,"option",56),l._uU(28,"En attente"),l.qZA(),l.TgZ(29,"option",56),l._uU(30,"Valid\xe9e"),l.qZA(),l.TgZ(31,"option",56),l._uU(32,"Rejet\xe9e"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(33,"div",47),l.TgZ(34,"label",57),l._uU(35,"Type de la traduction"),l.qZA(),l.TgZ(36,"select",58),l.TgZ(37,"option",50),l._uU(38,"--S\xe9lectionner le statut--"),l.qZA(),l.TgZ(39,"option",56),l._uU(40,"TEXTE"),l.qZA(),l.TgZ(41,"option",56),l._uU(42,"AUDIO"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(43,"div",59),l.TgZ(44,"button",60),l.NdJ("click",function(){return l.CHM(t),l.oxw(2).onResetSearchForm()}),l._UZ(45,"i",61),l._uU(46," R\xe9nitialiser "),l.qZA(),l.TgZ(47,"button",62),l._UZ(48,"i",63),l._uU(49," Rechercher "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=l.oxw(2);l.xp6(7),l.Q6J("formGroup",t.formSearch),l.xp6(6),l.Q6J("ngValue",null),l.xp6(2),l.Q6J("ngForOf",l.lcZ(16,10,t.contributeurs$)),l.xp6(10),l.Q6J("ngValue",null),l.xp6(2),l.Q6J("ngValue","EN_ATTENTE"),l.xp6(2),l.Q6J("ngValue","VALIDER"),l.xp6(2),l.Q6J("ngValue","REJETER"),l.xp6(6),l.Q6J("ngValue",null),l.xp6(2),l.Q6J("ngValue","TEXTE"),l.xp6(2),l.Q6J("ngValue","AUDIO")}}function w(t,e){1&t&&(l.TgZ(0,"div",64),l.TgZ(1,"h6"),l._uU(2," Aucune contribution enregistr\xe9e ! "),l.qZA(),l.qZA())}function C(t,e){1&t&&(l.TgZ(0,"button",77),l._uU(1," En attente "),l.qZA())}function F(t,e){1&t&&(l.TgZ(0,"button",78),l._uU(1," Valid\xe9e "),l.qZA())}function N(t,e){1&t&&(l.TgZ(0,"button",79),l._uU(1," Rejett\xe9e "),l.qZA())}function J(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l.YNc(8,C,2,0,"button",69),l.YNc(9,F,2,0,"button",70),l.YNc(10,N,2,0,"button",71),l.qZA(),l.TgZ(11,"td"),l._uU(12),l.qZA(),l.TgZ(13,"td"),l._uU(14),l.qZA(),l.TgZ(15,"td"),l.TgZ(16,"div",72),l.TgZ(17,"button",73),l.NdJ("click",function(){const e=l.CHM(t).$implicit;return l.oxw(3).getOneTraduction(e.id)}),l._UZ(18,"i",74),l.qZA(),l.TgZ(19,"button",75),l.NdJ("click",function(){const e=l.CHM(t).$implicit;return l.oxw(3).onConfirmDeleteTraduction(e)}),l._UZ(20,"i",76),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=e.$implicit,i=e.index;l.xp6(2),l.Oqu(i+1),l.xp6(2),l.Oqu(t.libelle),l.xp6(2),l.Oqu(t.type),l.xp6(2),l.Q6J("ngIf","EN_ATTENTE"===t.etat),l.xp6(1),l.Q6J("ngIf","VALIDER"===t.etat),l.xp6(1),l.Q6J("ngIf","REJETER"===t.etat),l.xp6(2),l.Oqu(null==t.langue?null:t.langue.libelle),l.xp6(2),l.Oqu((null==t.utilisateur?null:t.utilisateur.nom)+" "+(null==t.utilisateur?null:t.utilisateur.prenom))}}function I(t,e){if(1&t&&(l.TgZ(0,"div",65),l.TgZ(1,"table",66),l.TgZ(2,"thead",67),l.TgZ(3,"tr"),l.TgZ(4,"th"),l._uU(5,"#"),l.qZA(),l.TgZ(6,"th"),l._uU(7,"Source de donn\xe9es"),l.qZA(),l.TgZ(8,"th"),l._uU(9,"Type de traduction"),l.qZA(),l.TgZ(10,"th"),l._uU(11,"Etat"),l.qZA(),l.TgZ(12,"th"),l._uU(13,"Langue"),l.qZA(),l.TgZ(14,"th"),l._uU(15,"Contributeur"),l.qZA(),l.TgZ(16,"th"),l._uU(17,"Actions"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(18,"tbody"),l.YNc(19,J,21,8,"tr",68),l.qZA(),l.qZA(),l.qZA()),2&t){const t=l.oxw(2);l.xp6(19),l.Q6J("ngForOf",t.traductions)}}function P(t,e){1&t&&l._uU(0,"Pr\xe9c.")}function k(t,e){1&t&&l._uU(0,"Suiv.")}function E(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"div",80),l.TgZ(1,"div",81),l.TgZ(2,"ngb-pagination",82),l.NdJ("pageChange",function(e){return l.CHM(t),l.oxw(2).ngbPaginationPage=e})("pageChange",function(e){return l.CHM(t),l.oxw(2).loadPage(e)}),l.YNc(3,P,1,0,"ng-template",83),l.YNc(4,k,1,0,"ng-template",84),l.qZA(),l.qZA(),l.qZA()}if(2&t){const t=l.oxw(2);l.xp6(2),l.Q6J("collectionSize",t.totalItems)("page",t.ngbPaginationPage)("pageSize",t.itemsPerPage)("maxSize",t.maxSize)("rotate",!0)("boundaryLinks",!1)}}function Y(t,e){if(1&t){const t=l.EpF();l.TgZ(0,"fieldset",22),l.TgZ(1,"legend",23),l._uU(2,"Liste des traductions"),l.qZA(),l.TgZ(3,"div",24),l.TgZ(4,"div",25),l._uU(5,"Contributions"),l.qZA(),l.TgZ(6,"div",26),l.TgZ(7,"nav",27),l.TgZ(8,"ol",28),l.TgZ(9,"li",29),l.TgZ(10,"a",30),l.NdJ("click",function(t){return t.preventDefault()}),l._UZ(11,"i",31),l.qZA(),l.qZA(),l.TgZ(12,"li",32),l._uU(13," Liste des contributions "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(14,"div",33),l.TgZ(15,"div",34),l.TgZ(16,"button",35),l.NdJ("click",function(){return l.CHM(t),l.oxw().onChangeFilterStatus()}),l._uU(17),l.qZA(),l.TgZ(18,"div",36),l.NdJ("click",function(){return l.CHM(t),l.oxw().onChangeFilterStatus()}),l.TgZ(19,"button",37),l._UZ(20,"i"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(21,y,50,12,"div",38),l.TgZ(22,"div",39),l.TgZ(23,"div",6),l.TgZ(24,"div",40),l.YNc(25,w,3,0,"div",41),l.qZA(),l.YNc(26,I,20,1,"div",42),l.qZA(),l.qZA(),l.YNc(27,E,5,6,"div",43),l.qZA()}if(2&t){const t=l.oxw();l.xp6(17),l.hij(" ",t.enableShowFilter?"Fermer le filtre":"Filtrer la liste"," "),l.xp6(3),l.Tol(t.enableShowFilter?"lni lni-close text-danger":"bx bx-slider"),l.xp6(1),l.Q6J("ngIf",t.enableShowFilter),l.xp6(4),l.Q6J("ngIf",0===t.traductions.length),l.xp6(1),l.Q6J("ngIf",0!==t.traductions.length),l.xp6(1),l.Q6J("ngIf",0!==t.traductions.length)}}const O=[{path:"",component:q},{path:"detail/:id",component:(()=>{class t{constructor(t,e,i,n,r,o,a){this.activedRoute=t,this.contributionService=e,this.notification=i,this.modal=n,this.contributeurService=r,this.fb=o,this.accountService=a,this.totalItems=0,this.itemsPerPage=20,this.maxSize=20,this.page=0,this.ngbPaginationPage=1,this.traductions=[],this.traduction=new x.d,this.traductionCounter=new x.d,this.contributeurs$=new u.y,this.traductionsPerso=[],this.totalrejete=0,this.totalValide=0,this.totalAttente=0,this.totalFidelite=0}ngOnInit(){this.contribId=this.activedRoute.snapshot.paramMap.get("id"),this.getuserFidelite(),this.getContribution(this.contribId),this.contributeurs$=this.contributeurService.contributeurs$,this.getCountContribution(),this.initSearchForm()}initSearchForm(){this.formSearch=this.fb.group({contributeurId:this.accountService.getCurrentUserInfos().id,sourceDonnee:null,etat:null,type:null}),this.onSearch()}fermer(){window.history.back()}getContribution(t){this.contributionService.getContributionByContributeur(t).subscribe(t=>{t.body&&(this.traductions=t.body)})}getOneTraduction(t){this.contributionService.getOne(t).subscribe({next:t=>{t.body?this.onShowDetailTraduction(t.body):this.notification.open("danger","Une erreur est survenue lors de la r\xe9cup\xe9ration des traductions !")},error:t=>{this.notification.open("danger",t.error.detail?t.error.detail:"Une erreur est survenue lors de la r\xe9cup\xe9ration des traductions !")}})}onConfirmDeleteTraduction(t){var e=this;return(0,o.Z)(function*(){const i=yield e.modal.open(c.X,{size:"lg",backdrop:"static",centered:!0});i.componentInstance.message="Voulez-vous supprimer cette traduction ?",i.result.then(i=>{i&&e.deleteTraduction(t)})})()}deleteTraduction(t){this.contributionService.delete(t.id).subscribe({next:()=>{this.notification.open("success","Votre traduction a \xe9t\xe9 supprim\xe9e avec succ\xe8s !")},error:()=>{this.notification.open("danger","Une erreur est survenue lors de la suppression de la traduction !")}})}onShowDetailTraduction(t){var e=this;return(0,o.Z)(function*(){const i=yield e.modal.open(v.Q,{size:"lg",backdrop:"static",centered:!0});i.componentInstance.traduction=t,i.componentInstance.audio=`data:audio/mp4;base64,${t.contenuAudio}`})()}onSearch(){this.traduction.sourceDonnee.libelle=this.formSearch.value.sourceDonnee,this.traduction.etat=this.formSearch.value.etat,this.traduction.type=this.formSearch.value.type,this.traduction.utilisateur.id=this.formSearch.value.contributeurId,this.getTraductions()}getTraductions(){this.contributionService.getTraductions(this.traduction,{page:this.page,size:this.itemsPerPage}).subscribe({next:t=>{console.log(t.body),null!==t.body&&(this.totalItems=Number(t.headers.get("X-Total-Count")),this.traductions=t.body)},error:t=>{this.notification.open("danger",t.error.detail?t.error.detail:"Une erreur est survenue lors de la r\xe9cup\xe9ration des traductions !")}})}loadPage(t){this.page=t-1,this.getTraductions()}onResetSearchForm(){this.formSearch.reset(),this.onSearch()}onChangeFilterStatus(){this.enableShowFilter=!this.enableShowFilter}getCountContribution(){this.traductionCounter.utilisateur.id=this.contribId,this.contributionService.getTraductionsPerso(this.traductionCounter,{page:this.page,size:this.itemsPerPage}).subscribe({next:t=>{console.log(t.body),null!==t.body&&(this.totalItems=Number(t.headers.get("X-Total-Count")),this.traductionsPerso=t.body,this.totalrejete=this.traductionsPerso.filter(t=>"REJETER"==t.etat).length,this.totalValide=this.traductionsPerso.filter(t=>"VALIDER"==t.etat).length)},error:t=>{this.notification.open("danger",t.error.detail?t.error.detail:"Une erreur est survenue lors de la r\xe9cup\xe9ration des traductions !")}})}getuserFidelite(){this.contributeurService.getContributor(this.contribId).subscribe(t=>{t.body&&(this.totalFidelite=t.body.pointFidelite)})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(r.gz),l.Y36(U.u),l.Y36(b.g),l.Y36(Z.FF),l.Y36(d.W),l.Y36(g.qu),l.Y36(_.B))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-detail-contributeur"]],decls:42,vars:4,consts:[[1,"card-header","text-white","text-center","bg-primary","border-bottom-red"],[1,"modal-body"],[1,"row"],[1,"row","row-cols-1","row-cols-md-2","row-cols-xl-3"],[1,"col-md-3"],[1,"card","radius-10","border-start","border-0","border-3","border-info"],[1,"card-body"],[1,"d-flex","align-items-center"],[1,"mb-0","text-secondary"],[1,"my-1","text-info"],[1,"mb-0","font-13"],[1,"widgets-icons-2","rounded-circle","bg-gradient-scooter","text-white","ms-auto"],[1,"bx","bx-lock"],[1,"card","radius-10","border-start","border-0","border-3","border-success"],[1,"my-1","text-success"],[1,"widgets-icons-2","rounded-circle","bg-gradient-ohhappiness","text-white","ms-auto"],[1,"bx","bx-lock-open"],[1,"card","radius-10","border-start","border-0","border-3","border-danger"],[1,"my-1","text-danger"],[1,"widgets-icons-2","rounded-circle","bg-gradient-bloody","text-white","ms-auto"],[1,"lni","lni-unlock"],["class","border p-2",4,"ngIf"],[1,"border","p-2"],[1,"w-auto","text-danger","text-bold"],[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-3"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["href","#",3,"click"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"ms-auto"],[1,"btn-group"],["type","button",1,"btn","btn-white","text-primary",3,"click"],[1,"btn-group",3,"click"],["type","button",1,"btn","btn-white","dropdown-toggle","dropdown-toggle-nocaret","px-1"],["class","card",4,"ngIf"],[1,"card"],[1,"d-lg-flex","align-items-center","mb-4"],["class","position-relative text-center alert alert-warning",4,"ngIf"],["class","table-responsive",4,"ngIf"],["class","d-flex",4,"ngIf"],[1,"row","align-items-center"],[1,"col-lg-12","col-xl-12","h5","text-primary"],[3,"formGroup","ngSubmit"],[1,"col-12","col-md-6","col-lg-3","mb-3"],["for","contributeurId",1,"col-form-label"],["name","contributeurId","formControlName","contributeurId","id","contributeurId","disabled","",1,"form-control"],["selected","","disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","sourceDonnee",1,"col-form-label"],["type","text","name","sourceDonnee","formControlName","sourceDonnee","id","sourceDonnee",1,"form-control"],["for","etat",1,"col-form-label"],["name","etat","formControlName","etat","id","etat",1,"form-control"],[3,"ngValue"],["for","type",1,"col-form-label"],["name","type","formControlName","type","id","type",1,"form-control"],[1,"form-group","text-center"],["type","reset",1,"btn","btn-outline-danger","radius-30","mx-3",3,"click"],[1,"bx","bx-x-circle","mr-1"],["type","submit",1,"btn","btn-outline-success","radius-30"],[1,"bx","bx-search"],[1,"position-relative","text-center","alert","alert-warning"],[1,"table-responsive"],[1,"table","mb-0"],[1,"table-light"],[4,"ngFor","ngForOf"],["type","button","class","btn btn-outline-warning btn-sm",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm text-uppercase",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm text-uppercase",4,"ngIf"],[1,"d-flex","order-actions"],["type","button",1,"btn","btn-outline-warning","btn-sm","radius-30","px-2",3,"click"],[1,"bx","bx-show-alt"],["type","button",1,"btn","btn-outline-danger","btn-sm","radius-30","px-2","ms-3",3,"click"],[1,"bx","bxs-trash"],["type","button",1,"btn","btn-outline-warning","btn-sm"],["type","button",1,"btn","btn-outline-success","btn-sm","text-uppercase"],["type","button",1,"btn","btn-outline-danger","btn-sm","text-uppercase"],[1,"d-flex"],[1,"mx-auto"],[1,"pagination",3,"collectionSize","page","pageSize","maxSize","rotate","boundaryLinks","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""]],template:function(t,e){1&t&&(l.TgZ(0,"div",0),l._uU(1," Detail du contributeur\n"),l.qZA(),l.TgZ(2,"div",1),l.TgZ(3,"div",2),l.TgZ(4,"div",3),l.TgZ(5,"div",4),l.TgZ(6,"div",5),l.TgZ(7,"div",6),l.TgZ(8,"div",7),l.TgZ(9,"div"),l.TgZ(10,"p",8),l._uU(11,"Total des traductions rejet\xe9es"),l.qZA(),l.TgZ(12,"h4",9),l._uU(13),l.qZA(),l._UZ(14,"p",10),l.qZA(),l.TgZ(15,"div",11),l._UZ(16,"i",12),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(17,"div",4),l.TgZ(18,"div",13),l.TgZ(19,"div",6),l.TgZ(20,"div",7),l.TgZ(21,"div"),l.TgZ(22,"p",8),l._uU(23,"Total des traductions accept\xe9es"),l.qZA(),l.TgZ(24,"h4",14),l._uU(25),l.qZA(),l._UZ(26,"p",10),l.qZA(),l.TgZ(27,"div",15),l._UZ(28,"i",16),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(29,"div",4),l.TgZ(30,"div",17),l.TgZ(31,"div",6),l.TgZ(32,"div",7),l.TgZ(33,"div"),l.TgZ(34,"p",8),l._uU(35,"Total des points de fidelit\xe9"),l.qZA(),l.TgZ(36,"h4",18),l._uU(37),l.qZA(),l._UZ(38,"p",10),l.qZA(),l.TgZ(39,"div",19),l._UZ(40,"i",20),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(41,Y,28,7,"fieldset",21),l.qZA()),2&t&&(l.xp6(13),l.Oqu(e.totalrejete),l.xp6(12),l.Oqu(e.totalValide),l.xp6(12),l.Oqu(e.totalFidelite),l.xp6(4),l.Q6J("ngIf",e.traductions.length>0))},directives:[n.O5,g._Y,g.JL,g.sg,g.EJ,g.JJ,g.u,g.YN,g.Kr,n.sg,g.Fj,Z.N9,Z.ju,Z.GZ],pipes:[n.Ov],styles:[""]}),t})()}];let z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[r.Bz.forChild(O)],r.Bz]}),t})(),Q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[n.ez,z,g.u5,g.UX,Z.jF]]}),t})()}}]);