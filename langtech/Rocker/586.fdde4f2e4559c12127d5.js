(self.webpackChunkrocker=self.webpackChunkrocker||[]).push([[586],{2498:(e,t,o)=>{"use strict";o.d(t,{g:()=>l});var s=o(5366),i=o(2235),r=o(1116);function n(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",3),s.TgZ(1,"div",4),s.TgZ(2,"div",5),s._UZ(3,"i",6),s.qZA(),s.TgZ(4,"div",7),s.TgZ(5,"h6",8),s._uU(6,"Information"),s.qZA(),s.TgZ(7,"div",9),s._uU(8),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"button",10),s.NdJ("click",function(){return s.CHM(e),s.oxw().close()}),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(8),s.Oqu(e.message)}}function a(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",11),s.TgZ(1,"div",4),s.TgZ(2,"div",5),s._UZ(3,"i",12),s.qZA(),s.TgZ(4,"div",7),s.TgZ(5,"h6",8),s._uU(6,"Information"),s.qZA(),s.TgZ(7,"div",9),s._uU(8),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"button",10),s.NdJ("click",function(){return s.CHM(e),s.oxw().close()}),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(8),s.Oqu(e.message)}}function d(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",13),s.TgZ(1,"div",4),s.TgZ(2,"div",14),s._UZ(3,"i",15),s.qZA(),s.TgZ(4,"div",7),s.TgZ(5,"h6",16),s._uU(6,"Information"),s.qZA(),s.TgZ(7,"div",17),s._uU(8),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"button",10),s.NdJ("click",function(){return s.CHM(e),s.oxw().close()}),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(8),s.Oqu(e.message)}}let c=(()=>{class e{constructor(e){this.activeModal=e,this.timer=3}ngOnInit(){this.callTime()}callTime(){setTimeout(()=>{this.timer-=1,this.timer>0?this.callTime():this.close()},1e3)}close(){this.activeModal.close()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(i.Kz))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-notification"]],inputs:{type:"type",message:"message"},decls:3,vars:3,consts:[["class","alert alert-success border-0 bg-success alert-dismissible fade show py-2",4,"ngIf"],["class","alert alert-danger border-0 bg-danger alert-dismissible fade show py-2",4,"ngIf"],["class","alert alert-warning border-0 bg-warning alert-dismissible fade show py-2",4,"ngIf"],[1,"alert","alert-success","border-0","bg-success","alert-dismissible","fade","show","py-2"],[1,"d-flex","align-items-center"],[1,"font-35","text-white"],[1,"bx","bxs-check-circle"],[1,"ms-3"],[1,"mb-0","text-white"],[1,"text-white"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"],[1,"alert","alert-danger","border-0","bg-danger","alert-dismissible","fade","show","py-2"],[1,"bx","bxs-message-square-x"],[1,"alert","alert-warning","border-0","bg-warning","alert-dismissible","fade","show","py-2"],[1,"font-35","text-dark"],[1,"bx","bx-info-circle"],[1,"mb-0","text-dark"],[1,"text-dark"]],template:function(e,t){1&e&&(s.YNc(0,n,10,1,"div",0),s.YNc(1,a,10,1,"div",1),s.YNc(2,d,10,1,"div",2)),2&e&&(s.Q6J("ngIf","success"===t.type),s.xp6(1),s.Q6J("ngIf","danger"===t.type),s.xp6(1),s.Q6J("ngIf","warning"===t.type))},directives:[r.O5],styles:[""]}),e})(),l=(()=>{class e{constructor(e){this.modal=e}open(e,t){void 0!==this.myModal&&this.myModal.dismiss(),this.myModal=this.modal.open(c,{size:"lg",centered:!1,container:"body",animation:!0,keyboard:!0,backdropClass:"bg-light-transparent"}),this.myModal.componentInstance.type=e,this.myModal.componentInstance.message=t}close(){this.myModal.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(i.FF))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},586:(e,t,o)=>{"use strict";o.r(t),o.d(t,{AuthModule:()=>w});var s=o(1116),i=o(5424),r=o(1462),n=o(5366),a=o(969),d=o(2498);let c=(()=>{class e{constructor(e,t,o,s,i){this.route=e,this.userService=t,this.fb=o,this._location=s,this.notification=i,this.formForgotPwd=this.fb.group({email:[null,[r.kI.required]]})}ngOnInit(){}onGoBack(){this._location.back()}onResetPwd(){const e=this.formForgotPwd.get("email").value,t=this.userService.requestPasswordReset(e).subscribe(()=>{t.unsubscribe(),this.notification.open("success",`Un nouveau mot de passe a \xe9t\xe9 envoy\xe9 a votre num\xe9ro de t\xe9l\xe9phone << ${e} >>. Veuillez consulter votre t\xe9l\xe9phone !`),this.onGoBack()},e=>{t.unsubscribe(),this.notification.open("danger",e.error.detail?e.error.detail:"Une erreur est survnue lors de la r\xe9initialisation du mot de passe !")})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(i.gz),n.Y36(a.K),n.Y36(r.qu),n.Y36(s.Ye),n.Y36(d.g))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-forgot-password"]],decls:26,vars:2,consts:[[1,"wrapper","bg-primary"],[1,"authentication-reset-password","d-flex","align-items-center","justify-content-center"],[1,"row"],[1,"col-12","col-lg-10","mx-auto"],[1,"card"],[1,"row","g-0"],[1,"col-12","col-lg-6"],["src","assets/images/login-images/forgot-password.jpg","alt","...",1,"card-img","login-img","h-100"],[1,"col-12","col-lg-6","border-end"],[1,"card-body"],[1,"p-4"],[1,"text-start","text-center","text-primary","h2"],[1,"mt-5","font-weight-bold"],[1,"text-muted"],[3,"formGroup","ngSubmit"],[1,"my-3"],["type","text","name","phone","formControlName","email",1,"form-control"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],["href","javascript:;",1,"btn","btn-light","btn-lg",3,"click"],[1,"bx","bx-arrow-back","me-1"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n.TgZ(4,"div",4),n.TgZ(5,"div",5),n.TgZ(6,"div",6),n._UZ(7,"img",7),n.qZA(),n.TgZ(8,"div",8),n.TgZ(9,"div",9),n.TgZ(10,"div",10),n.TgZ(11,"div",11),n._uU(12," LangTechApp "),n.qZA(),n.TgZ(13,"h4",12),n._uU(14,"Mot de passe oubli\xe9 ?"),n.qZA(),n.TgZ(15,"p",13),n._uU(16,"Entrer votre t\xe9l\xe9phone pour r\xe9initialiser votre mot de passe"),n.qZA(),n.TgZ(17,"form",14),n.NdJ("ngSubmit",function(){return t.onResetPwd()}),n.TgZ(18,"div",15),n._UZ(19,"input",16),n.qZA(),n.TgZ(20,"div",17),n.TgZ(21,"button",18),n._uU(22," R\xe9initialiser "),n.qZA(),n.TgZ(23,"a",19),n.NdJ("click",function(){return t.onGoBack()}),n._UZ(24,"i",20),n._uU(25,"Retour \xe0 la page de connexion "),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(17),n.Q6J("formGroup",t.formForgotPwd),n.xp6(4),n.Q6J("disabled",t.formForgotPwd.invalid))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u],styles:[""]}),e})();class l{constructor(e,t){this.key=e,this.newPassword=t}}let g=(()=>{class e{constructor(e,t,o,s,i,n){this.router=e,this.route=t,this.userService=o,this.fb=s,this._location=i,this.notification=n,this.formResetPwd=this.fb.group({password:[null,[r.kI.required,r.kI.minLength(6),r.kI.maxLength(50)]],confirmPassword:[null,[r.kI.required,r.kI.minLength(6),r.kI.maxLength(50)]]})}ngOnInit(){this.keyAndPasswod=new l,this.keyAndPasswod.key=this.route.snapshot.params.key}onFinishResetPwd(){const e=this.formResetPwd.get("password").value;if(e!==this.formResetPwd.get("confirmPassword").value)this.notification.open("warning","La confirmation du mot de passe est incorrecte.");else{this.keyAndPasswod.newPassword=e;const t=this.userService.finishPasswordReset(this.keyAndPasswod).subscribe(()=>{t.unsubscribe(),this.notification.open("success","F\xe9licitations! Votre mot de passe a \xe9t\xe9 chang\xe9 avec succ\xe8s !"),this.onLogin()},e=>{t.unsubscribe(),this.notification.open("danger",e.error.detail?e.error.detail:"Une erreur est survenue lors du changement du mot de passe !")})}}onLogin(){this.router.navigate(["sign-in"],{relativeTo:this.route.parent})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(i.F0),n.Y36(i.gz),n.Y36(a.K),n.Y36(r.qu),n.Y36(s.Ye),n.Y36(d.g))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-reset-password"]],decls:31,vars:2,consts:[[1,"wrapper","bg-primary"],[1,"authentication-reset-password","d-flex","align-items-center","justify-content-center"],[1,"row"],[1,"col-12","mx-auto"],[1,"card"],[1,"row","g-0"],[1,"col-12","col-md-7"],["src","assets/images/login-images/reset-password.jpg","alt","...",1,"card-img","h-100"],[1,"col-12","col-md-5","border-end"],[1,"card-body"],[1,"p-4"],[1,"text-start","text-center","text-primary","h2"],[1,"mt-5","font-weight-bold"],[1,"text-muted"],[3,"formGroup","ngSubmit"],[1,"mb-3","mt-5"],[1,"form-label"],["type","password","name","password","formControlName","password",1,"form-control"],[1,"mb-3"],["type","password","name","confirmPassword","formControlName","confirmPassword",1,"form-control"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n.TgZ(4,"div",4),n.TgZ(5,"div",5),n.TgZ(6,"div",6),n._UZ(7,"img",7),n.qZA(),n.TgZ(8,"div",8),n.TgZ(9,"div",9),n.TgZ(10,"div",10),n.TgZ(11,"div",11),n._uU(12," LangTechApp "),n.qZA(),n.TgZ(13,"h4",12),n._uU(14,"Changer son mot de passe"),n.qZA(),n.TgZ(15,"p",13),n._uU(16,"Vous devez changer votre mot de passe. "),n._UZ(17,"br"),n._uU(18,"Le mot de passe doit avoir au moins 6 caract\xe8res. "),n.qZA(),n.TgZ(19,"form",14),n.NdJ("ngSubmit",function(){return t.onFinishResetPwd()}),n.TgZ(20,"div",15),n.TgZ(21,"label",16),n._uU(22,"Nouveau mot de passe"),n.qZA(),n._UZ(23,"input",17),n.qZA(),n.TgZ(24,"div",18),n.TgZ(25,"label",16),n._uU(26,"Confirmer votre mot de passe"),n.qZA(),n._UZ(27,"input",19),n.qZA(),n.TgZ(28,"div",20),n.TgZ(29,"button",21),n._uU(30," Sauvegarder le mot de passe "),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(19),n.Q6J("formGroup",t.formResetPwd),n.xp6(10),n.Q6J("disabled",t.formResetPwd.invalid))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u],styles:[""]}),e})();class u{constructor(e,t,o){this.username=e,this.password=t,this.rememberMe=o}}var m=o(9788),p=o(3743),Z=o(8467);let h=(()=>{class e{constructor(e,t,o,s,i,n,a,d,c,l){this.router=e,this.route=t,this.spinner=o,this.fb=s,this.loginService=i,this.notification=n,this._location=a,this.locationStrategy=d,this.location=c,this.parameter=l,this.formLogin=this.fb.group({username:[null,r.kI.required],password:[null,r.kI.required],rememberMe:!0})}ngOnInit(){this.enableShowPassword=!1,this.loginVM=new u,this.location.onPopState(()=>{})}onLogin(){this.loginVM.username=this.formLogin.get("username").value,this.loginVM.password=this.formLogin.get("password").value,this.loginVM.rememberMe=this.formLogin.get("rememberMe").value;const e=this.loginService.login(this.loginVM).subscribe(t=>{e.unsubscribe(),t?this.onSuccessLogin(this.parameter.currentUser):this.notification.open("danger","Une erreur est survenue lors de la connexion !")},t=>{e.unsubscribe(),this.notification.open("danger",t.error.detail?t.error.detail:"Une erreur est survenue lors de la connexion !")})}onSuccessLogin(e){var t,o;e.user.resetKey?this.router.navigate(["auth","reset-password",null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.resetKey]):(this.notification.open("success",`Bienvenue ${null===(o=null==e?void 0:e.user)||void 0===o?void 0:o.login} !`),this.router.navigate(["pages/home"]))}showPassword(){this.enableShowPassword=!this.enableShowPassword}onForgotpassword(){this.router.navigate(["forgot-password"],{relativeTo:this.route.parent})}onSignup(){this.router.navigate(["pages/home"])}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(i.F0),n.Y36(i.gz),n.Y36(m.V),n.Y36(r.qu),n.Y36(p.r),n.Y36(d.g),n.Y36(s.Ye),n.Y36(s.S$),n.Y36(s.lw),n.Y36(Z.y))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-sign-in"]],decls:39,vars:6,consts:[[1,"bg-login"],[1,"wrapper"],[1,"section-authentication-signin","d-flex","align-items-center","justify-content-center","my-5","my-lg-0"],[1,"container-fluid"],[1,"row","row-cols-1","row-cols-lg-2","row-cols-xl-3"],[1,"col","mx-auto"],[1,"card"],[1,"card-body"],[1,"border","p-4","rounded"],[1,"text-center"],["width","800","alt","",1,"img-fluid","text-center","w-50",3,"src"],[1,""],[1,"form-body"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-12"],["for","username",1,"form-label"],["type","text","id","username","name","username","formControlName","username",1,"form-control"],["for","password",1,"form-label"],["id","show_hide_password",1,"input-group"],["id","password","name","password","formControlName","password",1,"form-control","border-end-0",3,"type"],["href","JavaScript:;",1,"input-group-text","bg-transparent",3,"click"],[1,"col-md-6"],[1,"form-check","form-switch"],["type","checkbox","name","rememberMe","formControlName","rememberMe","id","flexSwitchCheckChecked",1,"form-check-input"],["for","flexSwitchCheckChecked",1,"form-check-label"],[1,"col-md-6","text-end"],["href","JavaScript:;",3,"click"],[1,"d-grid"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"bx","bxs-lock-open"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n.TgZ(4,"div",4),n.TgZ(5,"div",5),n.TgZ(6,"div",6),n.TgZ(7,"div",7),n.TgZ(8,"div",8),n.TgZ(9,"div",9),n._UZ(10,"img",10),n.TgZ(11,"h3",11),n._uU(12,"LangTechApp"),n.qZA(),n.qZA(),n.TgZ(13,"div",12),n.TgZ(14,"form",13),n.NdJ("ngSubmit",function(){return t.onLogin()}),n.TgZ(15,"div",14),n.TgZ(16,"label",15),n._uU(17,"Nom d'utilisateur ou Email"),n.qZA(),n._UZ(18,"input",16),n.qZA(),n.TgZ(19,"div",14),n.TgZ(20,"label",17),n._uU(21,"Mot de passe"),n.qZA(),n.TgZ(22,"div",18),n._UZ(23,"input",19),n.TgZ(24,"a",20),n.NdJ("click",function(){return t.showPassword()}),n._UZ(25,"i"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(26,"div",21),n.TgZ(27,"div",22),n._UZ(28,"input",23),n.TgZ(29,"label",24),n._uU(30,"Se souvenir de moi"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(31,"div",25),n.TgZ(32,"a",26),n.NdJ("click",function(){return t.onForgotpassword()}),n._uU(33,"Mot de passe oubli\xe9 ?"),n.qZA(),n.qZA(),n.TgZ(34,"div",14),n.TgZ(35,"div",27),n.TgZ(36,"button",28),n._UZ(37,"i",29),n._uU(38,"Se connecter "),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(10),n.Q6J("src","assets/images/logo.jpg",n.LSH),n.xp6(4),n.Q6J("formGroup",t.formLogin),n.xp6(9),n.Q6J("type",t.enableShowPassword?"text":"password"),n.xp6(2),n.Tol(t.enableShowPassword?"bx bx-show":"bx bx-hide"),n.xp6(11),n.Q6J("disabled",t.formLogin.invalid))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,r.Wl],styles:[""]}),e})();const f=[{path:"",children:[{path:"sign-in",component:h,data:{title:"Sign In"}},{path:"login",component:h,data:{title:"Connexion"}},{path:"forgot-password",component:c,data:{title:"Forgot Password"}},{path:"reset-password",component:g,data:{title:"Reset Password"}},{path:"reset-password/:key",component:g,data:{title:"Reset Password"}}]}];let b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[i.Bz.forChild(f)],i.Bz]}),e})();var v=o(3156);let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[s.ez,b,v.I]]}),e})()}}]);