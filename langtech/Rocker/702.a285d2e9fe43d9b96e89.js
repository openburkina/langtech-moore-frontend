(self.webpackChunkrocker=self.webpackChunkrocker||[]).push([[702],{2498:(t,e,i)=>{"use strict";i.d(e,{g:()=>l});var r=i(5366),s=i(2235),n=i(1116);function o(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"div",4),r.TgZ(2,"div",5),r._UZ(3,"i",6),r.qZA(),r.TgZ(4,"div",7),r.TgZ(5,"h6",8),r._uU(6,"Information"),r.qZA(),r.TgZ(7,"div",9),r._uU(8),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"button",10),r.NdJ("click",function(){return r.CHM(t),r.oxw().close()}),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(8),r.Oqu(t.message)}}function a(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",11),r.TgZ(1,"div",4),r.TgZ(2,"div",5),r._UZ(3,"i",12),r.qZA(),r.TgZ(4,"div",7),r.TgZ(5,"h6",8),r._uU(6,"Information"),r.qZA(),r.TgZ(7,"div",9),r._uU(8),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"button",10),r.NdJ("click",function(){return r.CHM(t),r.oxw().close()}),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(8),r.Oqu(t.message)}}function u(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",13),r.TgZ(1,"div",4),r.TgZ(2,"div",14),r._UZ(3,"i",15),r.qZA(),r.TgZ(4,"div",7),r.TgZ(5,"h6",16),r._uU(6,"Information"),r.qZA(),r.TgZ(7,"div",17),r._uU(8),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"button",10),r.NdJ("click",function(){return r.CHM(t),r.oxw().close()}),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(8),r.Oqu(t.message)}}let c=(()=>{class t{constructor(t){this.activeModal=t,this.timer=3}ngOnInit(){this.callTime()}callTime(){setTimeout(()=>{this.timer-=1,this.timer>0?this.callTime():this.close()},1e3)}close(){this.activeModal.close()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(s.Kz))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-notification"]],inputs:{type:"type",message:"message"},decls:3,vars:3,consts:[["class","alert alert-success border-0 bg-success alert-dismissible fade show py-2",4,"ngIf"],["class","alert alert-danger border-0 bg-danger alert-dismissible fade show py-2",4,"ngIf"],["class","alert alert-warning border-0 bg-warning alert-dismissible fade show py-2",4,"ngIf"],[1,"alert","alert-success","border-0","bg-success","alert-dismissible","fade","show","py-2"],[1,"d-flex","align-items-center"],[1,"font-35","text-white"],[1,"bx","bxs-check-circle"],[1,"ms-3"],[1,"mb-0","text-white"],[1,"text-white"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"],[1,"alert","alert-danger","border-0","bg-danger","alert-dismissible","fade","show","py-2"],[1,"bx","bxs-message-square-x"],[1,"alert","alert-warning","border-0","bg-warning","alert-dismissible","fade","show","py-2"],[1,"font-35","text-dark"],[1,"bx","bx-info-circle"],[1,"mb-0","text-dark"],[1,"text-dark"]],template:function(t,e){1&t&&(r.YNc(0,o,10,1,"div",0),r.YNc(1,a,10,1,"div",1),r.YNc(2,u,10,1,"div",2)),2&t&&(r.Q6J("ngIf","success"===e.type),r.xp6(1),r.Q6J("ngIf","danger"===e.type),r.xp6(1),r.Q6J("ngIf","warning"===e.type))},directives:[n.O5],styles:[""]}),t})(),l=(()=>{class t{constructor(t){this.modal=t}open(t,e){void 0!==this.myModal&&this.myModal.dismiss(),this.myModal=this.modal.open(c,{size:"lg",centered:!1,container:"body",animation:!0,keyboard:!0,backdropClass:"bg-light-transparent"}),this.myModal.componentInstance.type=t,this.myModal.componentInstance.message=e}close(){this.myModal.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s.FF))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},5035:(t,e,i)=>{"use strict";i.d(e,{W:()=>o});var r=i(8512),s=i(2693),n=i(5366);let o=(()=>{class t{constructor(t){this.http=t,this.contributeurs$=new r.X([]),this.getContributeurs()}getContributeurs(){this.http.get("/api/utilisateurs/contributeurs",{observe:"response"}).subscribe({next:t=>{t.body&&(console.log(t.body),this.contributeurs$.next(t.body))}})}getContributeursWitCriteria(t,e){let i=new s.LE;return Object.keys(e).forEach(t=>{i=i.set(t,e[t])}),this.http.post("/api/utilisateurs/criteria",t,{params:i,observe:"response"})}deleteContributeur(t){return this.http.delete(`/api/utilisateurs/${t}`,{observe:"response"})}getBestContributor(t){return this.http.post("/api/traductions/best-contributor",t,{observe:"response"})}getNbreContributor(){return this.http.get("/api/utilisateurs/count-contributor",{observe:"response"})}getContributor(t){return this.http.get(`/api/utilisateurs/${t}`,{observe:"response"})}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(s.eN))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},7598:(t,e,i)=>{"use strict";i.d(e,{u:()=>o});var r=i(2693),s=i(8512),n=i(5366);let o=(()=>{class t{constructor(t){this.http=t,this.traductions$=new s.X([]),this.init()}init(){this.http.get("/api/traductions",{observe:"response"}).subscribe({next:t=>{t.body&&this.traductions$.next(t.body)}})}getTraductions(t,e){let i=new r.LE;return Object.keys(e).forEach(t=>{i=i.set(t,e[t])}),this.http.post("/api/traductions/criteria",t,{params:i,observe:"response"})}delete(t){return this.http.delete(`/api/traductions/${t}`,{observe:"response"})}getOne(t){return this.http.get(`/api/document/traduction?traductionId=${t}`,{observe:"response"})}onValide(t){return this.http.post("/api/traductions/validation",t,{observe:"response"})}onGetStatistiques(t){return this.http.post("/api/getStatistique",t,{observe:"response"})}getContributionByContributeur(t){return this.http.get(`/api/traductions-by-contibuteur/${t}`,{observe:"response"})}getContributionBySource(t){return this.http.get(`/api/traductions-by-source/${t}`,{observe:"response"})}getStatistique(){return this.http.get("/api/traductions-get-info-stats-mois",{observe:"response"})}getNbreSourceTranslated(){return this.http.get("/api/traductions/count-translated",{observe:"response"})}getTraductionsPerso(t,e){let i=new r.LE;return Object.keys(e).forEach(t=>{i=i.set(t,e[t])}),this.http.post("/api/traductions/count/criteria",t,{params:i,observe:"response"})}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(r.eN))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},2702:(t,e,i)=>{"use strict";i.r(e),i.d(e,{StatistiquesModule:()=>f});var r=i(1116),s=i(5424),n=i(1462),o=i(8318);class a{constructor(t,e,i,r,s){this.typeTraduction=t,this.etat=e,this.debut=i,this.fin=r,this.contributeurId=s}}var u=i(5366),c=i(5035),l=i(2498),d=i(7598);function g(t,e){if(1&t&&(u.TgZ(0,"option",22),u._uU(1),u.qZA()),2&t){const t=e.$implicit;u.Q6J("ngValue",t.id),u.xp6(1),u.hij(" ",t.nom+" "+t.prenom+" "+t.email," ")}}function p(t,e){1&t&&(u.TgZ(0,"div",35),u.TgZ(1,"h6"),u._uU(2," Aucune statistique trouv\xe9e ! "),u.qZA(),u.qZA())}function b(t,e){if(1&t&&(u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u.TgZ(8,"div",40),u.TgZ(9,"button",41),u._UZ(10,"i",42),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t){const t=e.$implicit,i=e.index;u.xp6(2),u.Oqu(i+1),u.xp6(2),u.Oqu(t.utilisateur),u.xp6(2),u.Oqu(t.pointFedelite)}}function Z(t,e){if(1&t&&(u.TgZ(0,"div",36),u.TgZ(1,"table",37),u.TgZ(2,"thead",38),u.TgZ(3,"tr"),u.TgZ(4,"th"),u._uU(5,"#"),u.qZA(),u.TgZ(6,"th"),u._uU(7,"Contributeurs"),u.qZA(),u.TgZ(8,"th"),u._uU(9,"Point de fidelit\xe9"),u.qZA(),u.TgZ(10,"th"),u._uU(11,"Actions"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(12,"tbody"),u.YNc(13,b,11,3,"tr",39),u.qZA(),u.qZA(),u.qZA()),2&t){const t=u.oxw();u.xp6(13),u.Q6J("ngForOf",t.statistiques)}}const h=[{path:"",component:(()=>{class t{constructor(t,e,i,r){this.contributeurService=t,this.fb=e,this.notification=i,this.contributionService=r,this.statistiques=[],this.contributeurs$=new o.y}ngOnInit(){new Date,this.contributeurs$=this.contributeurService.contributeurs$,this.statistiqueCriteria=new a,this.initSearchForm()}initSearchForm(){this.formSearch=this.fb.group({typeTraduction:[null,[n.kI.required]],contributeurId:[],startDate:[null,[n.kI.required]],endDate:[null,[n.kI.required]]})}onResetSearchForm(){}onSearch(){this.statistiqueCriteria.typeTraduction=this.formSearch.value.typeTraduction,this.statistiqueCriteria.debut=new Date(this.formSearch.value.startDate).toISOString(),this.statistiqueCriteria.fin=new Date(this.formSearch.value.endDate).toISOString(),this.statistiqueCriteria.contributeurId=this.formSearch.value.contributeurId,console.log(this.statistiqueCriteria),this.getStatistiques()}getStatistiques(){this.statistiques=[],this.contributionService.onGetStatistiques(this.statistiqueCriteria).subscribe({next:t=>{console.log(t),t.body?this.statistiques=t.body.sort((t,e)=>t.pointFedelite>e.pointFedelite?-1:0):this.notification.open("warning","Aucune statistique trouv\xe9e !")},error:t=>{this.notification.open("danger",t.error.detail?t.error.detail:"Une erreur est survenue lors de la r\xe9cup\xe9ration des statistiques !")}})}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(c.W),u.Y36(n.qu),u.Y36(l.g),u.Y36(d.u))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-statistiques"]],decls:58,vars:11,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-3"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["href","#",3,"click"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"card"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-lg-12","col-xl-12","h5","text-primary"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-12","col-md-3","mb-3"],["for","contributeurId",1,"col-form-label"],["name","contributeurId","formControlName","contributeurId","id","contributeurId",1,"form-control"],["selected","","disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","typeTraduction",1,"col-form-label"],["id","typeTraduction","formControlName","typeTraduction","name","typeTraduction",1,"form-control"],[3,"ngValue"],["for","startDate",1,"col-form-label"],["type","date","name","startDate","formControlName","startDate","id","startDate",1,"form-control"],["for","endDate",1,"col-form-label"],["type","date","name","endDate","formControlName","endDate","id","endDate",1,"form-control"],[1,"form-group","text-center"],["type","reset",1,"btn","btn-outline-danger","radius-30","mx-3",3,"click"],[1,"bx","bx-x-circle","mr-1"],["type","submit",1,"btn","btn-outline-success","radius-30",3,"disabled"],[1,"bx","bx-search"],[1,"d-lg-flex","align-items-center","mb-4","gap-3"],["class","position-relative alert alert-warning",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"position-relative","alert","alert-warning"],[1,"table-responsive"],[1,"table","mb-0"],[1,"table-light"],[4,"ngFor","ngForOf"],[1,"d-flex","order-actions"],["type","button",1,"btn","btn-outline-warning","btn-sm","radius-30","px-2"],[1,"bx","bx-show-alt"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u._uU(2,"Statistiques"),u.qZA(),u.TgZ(3,"div",2),u.TgZ(4,"nav",3),u.TgZ(5,"ol",4),u.TgZ(6,"li",5),u.TgZ(7,"a",6),u.NdJ("click",function(t){return t.preventDefault()}),u._UZ(8,"i",7),u.qZA(),u.qZA(),u.TgZ(9,"li",8),u._uU(10,"Liste des statistiques"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(11,"div",9),u.TgZ(12,"div",10),u.TgZ(13,"div",11),u.TgZ(14,"div",12),u._uU(15," Rechercher une statistique par les crit\xe8res suivants "),u.qZA(),u.qZA(),u._UZ(16,"hr"),u.TgZ(17,"div",11),u.TgZ(18,"form",13),u.NdJ("ngSubmit",function(){return e.onSearch()}),u.TgZ(19,"div",14),u.TgZ(20,"div",15),u.TgZ(21,"label",16),u._uU(22,"Contributeur"),u.qZA(),u.TgZ(23,"select",17),u.TgZ(24,"option",18),u._uU(25,"--S\xe9lectionner le contributeur--"),u.qZA(),u.YNc(26,g,2,2,"option",19),u.ALo(27,"async"),u.qZA(),u.qZA(),u.TgZ(28,"div",15),u.TgZ(29,"label",20),u._uU(30,"Type de traduction"),u.qZA(),u.TgZ(31,"select",21),u.TgZ(32,"option",18),u._uU(33,"--S\xe9lectionner le type de traduction--"),u.qZA(),u.TgZ(34,"option",22),u._uU(35,"AUDIO"),u.qZA(),u.TgZ(36,"option",22),u._uU(37,"TEXTE"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(38,"div",15),u.TgZ(39,"label",23),u._uU(40,"Date de d\xe9but"),u.qZA(),u._UZ(41,"input",24),u.qZA(),u.TgZ(42,"div",15),u.TgZ(43,"label",25),u._uU(44,"Date de fin"),u.qZA(),u._UZ(45,"input",26),u.qZA(),u.TgZ(46,"div",27),u.TgZ(47,"button",28),u.NdJ("click",function(){return e.onResetSearchForm()}),u._UZ(48,"i",29),u._uU(49," R\xe9nitialiser "),u.qZA(),u.TgZ(50,"button",30),u._UZ(51,"i",31),u._uU(52," Rechercher "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(53,"div",9),u.TgZ(54,"div",10),u.TgZ(55,"div",32),u.YNc(56,p,3,0,"div",33),u.qZA(),u.YNc(57,Z,14,1,"div",34),u.qZA(),u.qZA()),2&t&&(u.xp6(18),u.Q6J("formGroup",e.formSearch),u.xp6(6),u.Q6J("ngValue",null),u.xp6(2),u.Q6J("ngForOf",u.lcZ(27,9,e.contributeurs$)),u.xp6(6),u.Q6J("ngValue",null),u.xp6(2),u.Q6J("ngValue","AUDIO"),u.xp6(2),u.Q6J("ngValue","TEXTE"),u.xp6(14),u.Q6J("disabled",e.formSearch.invalid),u.xp6(6),u.Q6J("ngIf",0===e.statistiques.length),u.xp6(1),u.Q6J("ngIf",0!==e.statistiques.length))},directives:[n._Y,n.JL,n.sg,n.EJ,n.JJ,n.u,n.YN,n.Kr,r.sg,n.Fj,r.O5],pipes:[r.Ov],styles:[""]}),t})()}];let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[s.Bz.forChild(h)],s.Bz]}),t})(),f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[r.ez,m,n.UX]]}),t})()}}]);