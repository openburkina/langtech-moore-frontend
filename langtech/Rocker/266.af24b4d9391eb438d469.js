(self.webpackChunkrocker=self.webpackChunkrocker||[]).push([[266],{2051:function(t,e){var i,n;void 0===(n="function"==typeof(i=function(){"use strict";function e(t,e,i){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){r(n.response,e,i)},n.onerror=function(){console.error("could not download file")},n.send()}function i(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function n(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(i)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),r=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(t,s,r){var a=o.URL||o.webkitURL,u=document.createElement("a");u.download=s=s||t.name||"download",u.rel="noopener","string"==typeof t?(u.href=t,u.origin===location.origin?n(u):i(u.href)?e(t,s,r):n(u,u.target="_blank")):(u.href=a.createObjectURL(t),setTimeout(function(){a.revokeObjectURL(u.href)},4e4),setTimeout(function(){n(u)},0))}:"msSaveOrOpenBlob"in navigator?function(t,o,s){if(o=o||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,s),o);else if(i(t))e(t,o,s);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){n(r)})}}:function(t,i,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return e(t,i,n);var a="application/octet-stream"===t.type,u=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&u||s)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var t=l.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},l.readAsDataURL(t)}else{var d=o.URL||o.webkitURL,p=d.createObjectURL(t);r?r.location=p:location.href=p,r=null,setTimeout(function(){d.revokeObjectURL(p)},4e4)}});o.saveAs=r.saveAs=r,t.exports=r})?i.apply(e,[]):i)||(t.exports=n)},4107:(t,e,i)=>{"use strict";i.d(e,{X:()=>s});var n=i(5366),o=i(2235);let s=(()=>{class t{constructor(t){this.activeModal=t}ngOnInit(){}onDismiss(t){this.activeModal.close(t)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(o.Kz))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-confirm"]],inputs:{message:"message"},decls:13,vars:1,consts:[[1,"card"],[1,"card-header","bg-primary","border-bottom-red","text-center","text-white"],[1,"card-body"],[1,"text-center","text-main-color-green","mb-3"],[1,"form-group","text-center"],["type","button",1,"btn","btn-outline-danger","mx-3",3,"click"],[1,"bx","bx-x-circle","mr-1"],["type","button",1,"btn","btn-outline-success",3,"click"],[1,"bx","bx-check-square"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n._uU(2," Confirmation "),n.qZA(),n.TgZ(3,"div",2),n.TgZ(4,"div",3),n._uU(5),n.qZA(),n.TgZ(6,"div",4),n.TgZ(7,"button",5),n.NdJ("click",function(){return e.onDismiss(!1)}),n._UZ(8,"i",6),n._uU(9," Annuler "),n.qZA(),n.TgZ(10,"button",7),n.NdJ("click",function(){return e.onDismiss(!0)}),n._UZ(11,"i",8),n._uU(12," Confirmer "),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&t&&(n.xp6(5),n.hij(" ",e.message," "))},styles:[""]}),t})()},2498:(t,e,i)=>{"use strict";i.d(e,{g:()=>l});var n=i(5366),o=i(2235),s=i(1116);function r(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div",3),n.TgZ(1,"div",4),n.TgZ(2,"div",5),n._UZ(3,"i",6),n.qZA(),n.TgZ(4,"div",7),n.TgZ(5,"h6",8),n._uU(6,"Information"),n.qZA(),n.TgZ(7,"div",9),n._uU(8),n.qZA(),n.qZA(),n.qZA(),n.TgZ(9,"button",10),n.NdJ("click",function(){return n.CHM(t),n.oxw().close()}),n.qZA(),n.qZA()}if(2&t){const t=n.oxw();n.xp6(8),n.Oqu(t.message)}}function a(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div",11),n.TgZ(1,"div",4),n.TgZ(2,"div",5),n._UZ(3,"i",12),n.qZA(),n.TgZ(4,"div",7),n.TgZ(5,"h6",8),n._uU(6,"Information"),n.qZA(),n.TgZ(7,"div",9),n._uU(8),n.qZA(),n.qZA(),n.qZA(),n.TgZ(9,"button",10),n.NdJ("click",function(){return n.CHM(t),n.oxw().close()}),n.qZA(),n.qZA()}if(2&t){const t=n.oxw();n.xp6(8),n.Oqu(t.message)}}function u(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div",13),n.TgZ(1,"div",4),n.TgZ(2,"div",14),n._UZ(3,"i",15),n.qZA(),n.TgZ(4,"div",7),n.TgZ(5,"h6",16),n._uU(6,"Information"),n.qZA(),n.TgZ(7,"div",17),n._uU(8),n.qZA(),n.qZA(),n.qZA(),n.TgZ(9,"button",10),n.NdJ("click",function(){return n.CHM(t),n.oxw().close()}),n.qZA(),n.qZA()}if(2&t){const t=n.oxw();n.xp6(8),n.Oqu(t.message)}}let c=(()=>{class t{constructor(t){this.activeModal=t,this.timer=3}ngOnInit(){this.callTime()}callTime(){setTimeout(()=>{this.timer-=1,this.timer>0?this.callTime():this.close()},1e3)}close(){this.activeModal.close()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(o.Kz))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-notification"]],inputs:{type:"type",message:"message"},decls:3,vars:3,consts:[["class","alert alert-success border-0 bg-success alert-dismissible fade show py-2",4,"ngIf"],["class","alert alert-danger border-0 bg-danger alert-dismissible fade show py-2",4,"ngIf"],["class","alert alert-warning border-0 bg-warning alert-dismissible fade show py-2",4,"ngIf"],[1,"alert","alert-success","border-0","bg-success","alert-dismissible","fade","show","py-2"],[1,"d-flex","align-items-center"],[1,"font-35","text-white"],[1,"bx","bxs-check-circle"],[1,"ms-3"],[1,"mb-0","text-white"],[1,"text-white"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"],[1,"alert","alert-danger","border-0","bg-danger","alert-dismissible","fade","show","py-2"],[1,"bx","bxs-message-square-x"],[1,"alert","alert-warning","border-0","bg-warning","alert-dismissible","fade","show","py-2"],[1,"font-35","text-dark"],[1,"bx","bx-info-circle"],[1,"mb-0","text-dark"],[1,"text-dark"]],template:function(t,e){1&t&&(n.YNc(0,r,10,1,"div",0),n.YNc(1,a,10,1,"div",1),n.YNc(2,u,10,1,"div",2)),2&t&&(n.Q6J("ngIf","success"===e.type),n.xp6(1),n.Q6J("ngIf","danger"===e.type),n.xp6(1),n.Q6J("ngIf","warning"===e.type))},directives:[s.O5],styles:[""]}),t})(),l=(()=>{class t{constructor(t){this.modal=t}open(t,e){void 0!==this.myModal&&this.myModal.dismiss(),this.myModal=this.modal.open(c,{size:"lg",centered:!1,container:"body",animation:!0,keyboard:!0,backdropClass:"bg-light-transparent"}),this.myModal.componentInstance.type=t,this.myModal.componentInstance.message=e}close(){this.myModal.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(o.FF))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},329:(t,e,i)=>{"use strict";i.d(e,{O:()=>n});class n{constructor(t,e,i,n,o){this.id=t,this.libelle=e,this.description=i,this.profilsChange=n,this.authorities=o,this.authorities=[],this.profilsChange=!1}}},9813:(t,e,i)=>{"use strict";i.d(e,{u:()=>n});class n{constructor(t,e,i){this.id=t,this.file=e,this.libelle=i}}},453:(t,e,i)=>{"use strict";i.d(e,{d:()=>r});var n=i(2710),o=i(9813);class s{constructor(t,e){this.id=t,this.libelle=e}}class r{constructor(t,e,i,r,a,u,c,l,d,p,b,h,g){this.id=t,this.libelle=e,this.contenuTexte=i,this.contenuAudio=r,this.contenuAudioContentType=a,this.type=u,this.note=c,this.etat=l,this.motif=d,this.mois=p,this.utilisateur=b,this.sourceDonnee=h,this.langue=g,this.utilisateur=new n.V,this.sourceDonnee=new o.u,this.langue=new s}}},2710:(t,e,i)=>{"use strict";i.d(e,{V:()=>s});var n=i(329);class o{constructor(t,e,i,n,o,s,r,a,u,c,l,d,p){this.id=t,this.login=e,this.password=i,this.firstName=n,this.lastName=o,this.telephone=s,this.email=r,this.resetKey=a,this.resetDate=u,this.createdBy=c,this.activated=l,this.defaultPassord=d,this.authorities=p,this.activated=!1,this.authorities=[],this.defaultPassord=!1}}class s{constructor(t,e,i,s,r,a,u,c,l,d,p,b){this.id=t,this.nom=e,this.prenom=i,this.telephone=s,this.email=r,this.login=a,this.password=u,this.typeUtilisateur=c,this.pointFidelite=l,this.profil=d,this.statut=p,this.user=b,this.profil=new n.O,this.user=new o}}},5035:(t,e,i)=>{"use strict";i.d(e,{W:()=>r});var n=i(8512),o=i(2693),s=i(5366);let r=(()=>{class t{constructor(t){this.http=t,this.contributeurs$=new n.X([]),this.getContributeurs()}getContributeurs(){this.http.get("/api/utilisateurs/contributeurs",{observe:"response"}).subscribe({next:t=>{t.body&&(console.log(t.body),this.contributeurs$.next(t.body))}})}getContributeursWitCriteria(t,e){let i=new o.LE;return Object.keys(e).forEach(t=>{i=i.set(t,e[t])}),this.http.post("/api/utilisateurs/criteria",t,{params:i,observe:"response"})}deleteContributeur(t){return this.http.delete(`/api/utilisateurs/${t}`,{observe:"response"})}getBestContributor(t){return this.http.post("/api/traductions/best-contributor",t,{observe:"response"})}getNbreContributor(){return this.http.get("/api/utilisateurs/count-contributor",{observe:"response"})}getContributor(t){return this.http.get(`/api/utilisateurs/${t}`,{observe:"response"})}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(o.eN))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},7598:(t,e,i)=>{"use strict";i.d(e,{u:()=>r});var n=i(2693),o=i(8512),s=i(5366);let r=(()=>{class t{constructor(t){this.http=t,this.traductions$=new o.X([]),this.init()}init(){this.http.get("/api/traductions",{observe:"response"}).subscribe({next:t=>{t.body&&this.traductions$.next(t.body)}})}getTraductions(t,e){let i=new n.LE;return Object.keys(e).forEach(t=>{i=i.set(t,e[t])}),this.http.post("/api/traductions/criteria",t,{params:i,observe:"response"})}delete(t){return this.http.delete(`/api/traductions/${t}`,{observe:"response"})}getOne(t){return this.http.get(`/api/document/traduction?traductionId=${t}`,{observe:"response"})}onValide(t){return this.http.post("/api/traductions/validation",t,{observe:"response"})}onGetStatistiques(t){return this.http.post("/api/getStatistique",t,{observe:"response"})}getContributionByContributeur(t){return this.http.get(`/api/traductions-by-contibuteur/${t}`,{observe:"response"})}getContributionBySource(t){return this.http.get(`/api/traductions-by-source/${t}`,{observe:"response"})}getStatistique(){return this.http.get("/api/traductions-get-info-stats-mois",{observe:"response"})}getNbreSourceTranslated(){return this.http.get("/api/traductions/count-translated",{observe:"response"})}getTraductionsPerso(t,e){let i=new n.LE;return Object.keys(e).forEach(t=>{i=i.set(t,e[t])}),this.http.post("/api/traductions/count/criteria",t,{params:i,observe:"response"})}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(n.eN))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},7756:(t,e,i)=>{"use strict";i.d(e,{Q:()=>f});var n=i(6304),o=i(2051),s=i(5366),r=i(2235),a=i(1462);let u=(()=>{class t{constructor(t,e){this.activeModal=t,this.fb=e,this.formMotif=this.fb.group({motif:null})}ngOnInit(){}onDismiss(t){this.activeModal.close({param:t,motif:this.formMotif.value.motif})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(r.Kz),s.Y36(a.qu))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-rejet-with-motif"]],inputs:{message:"message"},decls:14,vars:1,consts:[[1,"card"],[1,"card-header","bg-primary","border-bottom-red","text-center","text-white"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["id","motif","name","motif","formControlName","motif","placeholder","Motif du rejet...",1,"form-control"],[1,"form-group","text-center"],["type","button",1,"btn","btn-outline-danger","mx-3",3,"click"],[1,"bx","bx-x-circle","mr-1"],["type","submit",1,"btn","btn-outline-success"],[1,"bx","bx-check-square"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s._uU(2," Veuillez saisir un motif du rejet ! "),s.qZA(),s.TgZ(3,"div",2),s.TgZ(4,"form",3),s.NdJ("ngSubmit",function(){return e.onDismiss(!0)}),s.TgZ(5,"div",4),s._UZ(6,"textarea",5),s.qZA(),s.TgZ(7,"div",6),s.TgZ(8,"button",7),s.NdJ("click",function(){return e.onDismiss(!1)}),s._UZ(9,"i",8),s._uU(10," Annuler "),s.qZA(),s.TgZ(11,"button",9),s._UZ(12,"i",10),s._uU(13," Confirmer "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(4),s.Q6J("formGroup",e.formMotif))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u],styles:[""]}),t})();var c=i(7598),l=i(2498),d=i(1116);function p(t,e){if(1&t&&(s.TgZ(0,"li",4),s.TgZ(1,"h6",5),s._uU(2," Motif du rejet "),s.qZA(),s.TgZ(3,"span",6),s._uU(4),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(4),s.Oqu(null==t.traduction?null:t.traduction.motif)}}function b(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"button",15),s.NdJ("click",function(){return s.CHM(t),s.oxw().onDownloadFile()}),s._UZ(1,"i",16),s._uU(2," T\xe9l\xe9charger "),s.qZA()}}function h(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"button",17),s.NdJ("click",function(){return s.CHM(t),s.oxw().onValideTraduction("VALIDER")}),s._UZ(1,"i",18),s._uU(2," Valider "),s.qZA()}}function g(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){return s.CHM(t),s.oxw().rejet("REJETER")}),s._UZ(1,"i",18),s._uU(2," Rejeter "),s.qZA()}}let f=(()=>{class t{constructor(t,e,i,n){this.activeModal=t,this.contributionService=e,this.notification=i,this.modal=n}ngOnInit(){}onCloseModal(t){this.activeModal.close(t)}onValideTraduction(t){this.traduction.etat=t,this.contributionService.onValide(this.traduction).subscribe({next:e=>{console.log(e.body);let i="";e.body&&e.body.etat==t?(i=`Contribution ${"VALIDER"==t?"valid\xe9e":"rejet\xe9e"} avec succ\xe8s !`,this.notification.open("success",i),this.onCloseModal(!0)):(i="Une erreur est survenue lors de la validation de la contribution !",this.notification.open("danger",i))},error:t=>{this.notification.open("danger",t.error.detail?t.error.detail:"Une erreur est survenue lors de la validation de la contribution !")}})}onDownloadFile(){const t=window.atob(this.traduction.contenuAudio),e=new ArrayBuffer(t.length),i=new Uint8Array(e);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);const n=new Blob([i],{type:this.traduction.contenuAudioContentType});(0,o.saveAs)(n,this.formatImageName(`${this.traduction.id}_${this.traduction.libelle.substring(0,5)}`))}formatImageName(t){return(t=t.toLocaleLowerCase()).replace(" ","_")}rejet(t){var e=this;return(0,n.Z)(function*(){const i=yield e.modal.open(u,{size:"lg",backdrop:"static",centered:!0});i.componentInstance.message="Voulez-vous rejeter cette traduction ?",i.result.then(i=>{1==i.param&&(e.traduction.motif=i.motif,e.onValideTraduction(t))})})()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(r.Kz),s.Y36(c.u),s.Y36(l.g),s.Y36(r.FF))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-detail-traduction"]],decls:45,vars:10,consts:[[1,"card"],[1,"card-header","bg-primary","border-bottom-red","text-center","text-white"],[1,"card-body"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-flex","justify-content-between","align-items-center","flex-wrap"],[1,"mb-0"],[1,"text-secondary"],["class","list-group-item d-flex justify-content-between align-items-center flex-wrap",4,"ngIf"],[1,"mx-auto","text-right"],[1,"btn-group"],[1,"btn","btn-outline-danger","radius-30",3,"click"],[1,"bx","bx-x-circle","mr-1"],["type","button","class","btn btn-outline-warning radius-30",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-success radius-30",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger radius-30",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-warning","radius-30",3,"click"],[1,"bx","bx-download","mr-1"],["type","button",1,"btn","btn-outline-success","radius-30",3,"click"],[1,"bx","bxs-edit"],["type","button",1,"btn","btn-outline-danger","radius-30",3,"click"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s._uU(2," D\xe9tail d'une contribution "),s.qZA(),s.TgZ(3,"div",2),s.TgZ(4,"ul",3),s.TgZ(5,"li",4),s.TgZ(6,"h6",5),s._uU(7," Source de donn\xe9es "),s.qZA(),s.TgZ(8,"span",6),s._uU(9),s.qZA(),s.qZA(),s.TgZ(10,"li",4),s.TgZ(11,"h6",5),s._uU(12," Type de traduction "),s.qZA(),s.TgZ(13,"span",6),s._uU(14),s.qZA(),s.qZA(),s.TgZ(15,"li",4),s.TgZ(16,"h6",5),s._uU(17," Statut "),s.qZA(),s.TgZ(18,"span",6),s._uU(19),s.qZA(),s.qZA(),s.YNc(20,p,5,1,"li",7),s.TgZ(21,"li",4),s.TgZ(22,"h6",5),s._uU(23," Langue de traduction "),s.qZA(),s.TgZ(24,"span",6),s._uU(25),s.qZA(),s.qZA(),s.TgZ(26,"li",4),s.TgZ(27,"h6",5),s._uU(28," Contributeur "),s.qZA(),s.TgZ(29,"span",6),s._uU(30),s.qZA(),s.qZA(),s.TgZ(31,"li",4),s.TgZ(32,"h6",5),s._uU(33," Traduction textuelle "),s.qZA(),s.qZA(),s.TgZ(34,"li",4),s.TgZ(35,"span",6),s._uU(36),s.qZA(),s.qZA(),s.qZA(),s.TgZ(37,"div",8),s.TgZ(38,"div",9),s.TgZ(39,"button",10),s.NdJ("click",function(){return e.onCloseModal(!1)}),s._UZ(40,"i",11),s._uU(41," Fermer "),s.qZA(),s.YNc(42,b,3,0,"button",12),s.YNc(43,h,3,0,"button",13),s.YNc(44,g,3,0,"button",14),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(9),s.Oqu(null==e.traduction||null==e.traduction.sourceDonnee?null:e.traduction.sourceDonnee.libelle),s.xp6(5),s.Oqu(null==e.traduction?null:e.traduction.type),s.xp6(5),s.Oqu(null==e.traduction?null:e.traduction.etat),s.xp6(1),s.Q6J("ngIf","REJETER"==e.traduction.etat),s.xp6(5),s.Oqu(null==e.traduction||null==e.traduction.langue?null:e.traduction.langue.libelle),s.xp6(5),s.Oqu((null==e.traduction.utilisateur?null:e.traduction.utilisateur.nom)+" "+(null==e.traduction||null==e.traduction.utilisateur?null:e.traduction.utilisateur.prenom)),s.xp6(6),s.Oqu(null==e.traduction?null:e.traduction.contenuTexte),s.xp6(6),s.Q6J("ngIf","AUDIO"===e.traduction.type),s.xp6(1),s.Q6J("ngIf","EN_ATTENTE"===e.traduction.etat),s.xp6(1),s.Q6J("ngIf","EN_ATTENTE"===e.traduction.etat))},directives:[d.O5],styles:[""]}),t})()},6304:(t,e,i)=>{"use strict";function n(t,e,i,n,o,s,r){try{var a=t[s](r),u=a.value}catch(c){return void i(c)}a.done?e(u):Promise.resolve(u).then(n,o)}function o(t){return function(){var e=this,i=arguments;return new Promise(function(o,s){var r=t.apply(e,i);function a(t){n(r,o,s,a,u,"next",t)}function u(t){n(r,o,s,a,u,"throw",t)}a(void 0)})}}i.d(e,{Z:()=>o})}}]);