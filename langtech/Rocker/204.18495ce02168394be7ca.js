(self.webpackChunkrocker=self.webpackChunkrocker||[]).push([[204],{4107:(e,t,i)=>{"use strict";i.d(t,{X:()=>s});var r=i(5366),o=i(2235);let s=(()=>{class e{constructor(e){this.activeModal=e}ngOnInit(){}onDismiss(e){this.activeModal.close(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(o.Kz))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-confirm"]],inputs:{message:"message"},decls:13,vars:1,consts:[[1,"card"],[1,"card-header","bg-primary","border-bottom-red","text-center","text-white"],[1,"card-body"],[1,"text-center","text-main-color-green","mb-3"],[1,"form-group","text-center"],["type","button",1,"btn","btn-outline-danger","mx-3",3,"click"],[1,"bx","bx-x-circle","mr-1"],["type","button",1,"btn","btn-outline-success",3,"click"],[1,"bx","bx-check-square"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r._uU(2," Confirmation "),r.qZA(),r.TgZ(3,"div",2),r.TgZ(4,"div",3),r._uU(5),r.qZA(),r.TgZ(6,"div",4),r.TgZ(7,"button",5),r.NdJ("click",function(){return t.onDismiss(!1)}),r._UZ(8,"i",6),r._uU(9," Annuler "),r.qZA(),r.TgZ(10,"button",7),r.NdJ("click",function(){return t.onDismiss(!0)}),r._UZ(11,"i",8),r._uU(12," Confirmer "),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(5),r.hij(" ",t.message," "))},styles:[""]}),e})()},2498:(e,t,i)=>{"use strict";i.d(t,{g:()=>u});var r=i(5366),o=i(2235),s=i(1116);function n(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"div",4),r.TgZ(2,"div",5),r._UZ(3,"i",6),r.qZA(),r.TgZ(4,"div",7),r.TgZ(5,"h6",8),r._uU(6,"Information"),r.qZA(),r.TgZ(7,"div",9),r._uU(8),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"button",10),r.NdJ("click",function(){return r.CHM(e),r.oxw().close()}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(8),r.Oqu(e.message)}}function l(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",11),r.TgZ(1,"div",4),r.TgZ(2,"div",5),r._UZ(3,"i",12),r.qZA(),r.TgZ(4,"div",7),r.TgZ(5,"h6",8),r._uU(6,"Information"),r.qZA(),r.TgZ(7,"div",9),r._uU(8),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"button",10),r.NdJ("click",function(){return r.CHM(e),r.oxw().close()}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(8),r.Oqu(e.message)}}function c(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",13),r.TgZ(1,"div",4),r.TgZ(2,"div",14),r._UZ(3,"i",15),r.qZA(),r.TgZ(4,"div",7),r.TgZ(5,"h6",16),r._uU(6,"Information"),r.qZA(),r.TgZ(7,"div",17),r._uU(8),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"button",10),r.NdJ("click",function(){return r.CHM(e),r.oxw().close()}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(8),r.Oqu(e.message)}}let a=(()=>{class e{constructor(e){this.activeModal=e,this.timer=3}ngOnInit(){this.callTime()}callTime(){setTimeout(()=>{this.timer-=1,this.timer>0?this.callTime():this.close()},1e3)}close(){this.activeModal.close()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(o.Kz))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-notification"]],inputs:{type:"type",message:"message"},decls:3,vars:3,consts:[["class","alert alert-success border-0 bg-success alert-dismissible fade show py-2",4,"ngIf"],["class","alert alert-danger border-0 bg-danger alert-dismissible fade show py-2",4,"ngIf"],["class","alert alert-warning border-0 bg-warning alert-dismissible fade show py-2",4,"ngIf"],[1,"alert","alert-success","border-0","bg-success","alert-dismissible","fade","show","py-2"],[1,"d-flex","align-items-center"],[1,"font-35","text-white"],[1,"bx","bxs-check-circle"],[1,"ms-3"],[1,"mb-0","text-white"],[1,"text-white"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"],[1,"alert","alert-danger","border-0","bg-danger","alert-dismissible","fade","show","py-2"],[1,"bx","bxs-message-square-x"],[1,"alert","alert-warning","border-0","bg-warning","alert-dismissible","fade","show","py-2"],[1,"font-35","text-dark"],[1,"bx","bx-info-circle"],[1,"mb-0","text-dark"],[1,"text-dark"]],template:function(e,t){1&e&&(r.YNc(0,n,10,1,"div",0),r.YNc(1,l,10,1,"div",1),r.YNc(2,c,10,1,"div",2)),2&e&&(r.Q6J("ngIf","success"===t.type),r.xp6(1),r.Q6J("ngIf","danger"===t.type),r.xp6(1),r.Q6J("ngIf","warning"===t.type))},directives:[s.O5],styles:[""]}),e})(),u=(()=>{class e{constructor(e){this.modal=e}open(e,t){void 0!==this.myModal&&this.myModal.dismiss(),this.myModal=this.modal.open(a,{size:"lg",centered:!1,container:"body",animation:!0,keyboard:!0,backdropClass:"bg-light-transparent"}),this.myModal.componentInstance.type=e,this.myModal.componentInstance.message=t}close(){this.myModal.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o.FF))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},329:(e,t,i)=>{"use strict";i.d(t,{O:()=>r});class r{constructor(e,t,i,r,o){this.id=e,this.libelle=t,this.description=i,this.profilsChange=r,this.authorities=o,this.authorities=[],this.profilsChange=!1}}},5204:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ProfilsModule:()=>T});var r=i(1116),o=i(5424),s=i(6304),n=i(4107),l=i(1462),c=i(329),a=i(5366),u=i(2235),d=i(5283),p=i(2498),f=i(9937);let b=(()=>{class e{constructor(e,t,i,r){this.activeModal=e,this.profilService=t,this.fb=i,this.notification=r,this.formProfil=this.fb.group({libelle:[null,l.kI.required],description:[null,l.kI.required],authorities:[null,l.kI.required]}),this.dropdownSettings={singleSelection:!1,idField:"authorities",textField:"authorities",selectAllText:"Tout S\xe9lectionner",unSelectAllText:"Des\xe9lectionner",itemsShowLimit:100,allowSearchFilter:!0,searchPlaceholderText:"Rechercher...",maxHeight:1e3,noDataAvailablePlaceholderText:"Aucun r\xf4le trouv\xe9..."},this.authorities=[]}ngOnInit(){this.getAuthorities()}getAuthorities(){const e=this.profilService.getAuthorities().subscribe(t=>{null===t.body||0===t.body.length?this.notification.open("warning","Aucun r\xf4le trouv\xe9 !"):(this.authorities=t.body,this.createForm()),e.unsubscribe()},t=>{e.unsubscribe(),this.notification.open("danger",t.error.detail?t.error.detail:"Une erreur est survenue lors de la recup\xe9ration des r\xf4les !")})}createForm(){null!==this.profil?this.formProfil.patchValue({libelle:this.profil.libelle,description:this.profil.description,authorities:this.profil.authorities}):this.profil=new c.O}onDismiss(e){this.activeModal.close(e)}getProfilInfos(){this.profil.libelle=this.formProfil.get("libelle").value,this.profil.description=this.formProfil.get("description").value,this.profil.authorities=this.formProfil.get("authorities").value,console.log(this.profil),this.profil.id?this.updateProfil():this.saveProfil()}saveProfil(){const e=this.profilService.createProfil(this.profil).subscribe(t=>{e.unsubscribe(),null!==t.body&&t.body.id?(this.notification.open("success",`Le profil #${this.profil.libelle} a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s !`),this.onDismiss(!0)):this.notification.open("danger","Une erreur est survenue lors de l'enregistrement du profil !")},t=>{e.unsubscribe(),this.notification.open("danger",t.error.detail?t.error.detail:"Une erreur est survenue lors de l'enregistrement du profil !")})}updateProfil(){this.profil.profilsChange=!0;const e=this.profilService.updateProfil(this.profil).subscribe(t=>{e.unsubscribe(),null!==t.body&&t.body.id?(this.notification.open("success",`Le profil #${this.profil.libelle} a \xe9t\xe9 modifi\xe9 avec succ\xe8s !`),this.onDismiss(!0)):this.notification.open("danger","Une erreur est survenue lors de la modification du profil !")},t=>{e.unsubscribe(),this.notification.open("danger",t.error.detail?t.error.detail:"Une erreur est survenue de la modification du profil !")})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(u.Kz),a.Y36(d.z),a.Y36(l.qu),a.Y36(p.g))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-create-update-profil"]],inputs:{profil:"profil"},decls:24,vars:5,consts:[[1,"card"],[1,"card-header","bg-primary","border-bottom-red","text-center","text-white"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","libelle",1,"col-form-label"],["type","text","name","libelle","formControlName","libelle","id","libelle",1,"form-control"],["for","description",1,"col-form-label"],["name","description","formControlName","description","id","description",1,"form-control"],[1,"col-form-label"],["formControlName","authorities",1,"custom-font-size",3,"placeholder","settings","data"],[1,"form-group","text-right"],["type","button",1,"btn","btn-outline-danger","radius-30","mx-3",3,"click"],[1,"bx","bx-x-circle","mr-1"],["type","submit",1,"btn","btn-outline-success","radius-30",3,"disabled"],[1,"bx","bx-check-square"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a._uU(2," Cr\xe9er ou modifier un Profil "),a.qZA(),a.TgZ(3,"div",2),a.TgZ(4,"form",3),a.NdJ("ngSubmit",function(){return t.getProfilInfos()}),a.TgZ(5,"div",4),a.TgZ(6,"label",5),a._uU(7,"Libell\xe9"),a.qZA(),a._UZ(8,"input",6),a.qZA(),a.TgZ(9,"div",4),a.TgZ(10,"label",7),a._uU(11,"Description"),a.qZA(),a._UZ(12,"textarea",8),a.qZA(),a.TgZ(13,"div",4),a.TgZ(14,"label",9),a._uU(15,"R\xf4les"),a.qZA(),a._UZ(16,"ng-multiselect-dropdown",10),a.qZA(),a.TgZ(17,"div",11),a.TgZ(18,"button",12),a.NdJ("click",function(){return t.onDismiss(!1)}),a._UZ(19,"i",13),a._uU(20," Annuler "),a.qZA(),a.TgZ(21,"button",14),a._UZ(22,"i",15),a._uU(23," Valider "),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(4),a.Q6J("formGroup",t.formProfil),a.xp6(12),a.Q6J("placeholder","S\xe9lectionner les r\xf4les...")("settings",t.dropdownSettings)("data",t.authorities),a.xp6(5),a.Q6J("disabled",t.formProfil.invalid))},directives:[l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u,f.OP],styles:[""]}),e})();function g(e,t){if(1&e&&(a.TgZ(0,"div",11),a._uU(1),a.qZA()),2&e){const e=t.$implicit;a.xp6(1),a.Oqu(e)}}let Z=(()=>{class e{constructor(e){this.activeModal=e}ngOnInit(){}onDismiss(e){this.activeModal.close(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(u.Kz))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-detail-profil"]],inputs:{profil:"profil"},decls:22,vars:3,consts:[[1,"card"],[1,"card-header","text-white","text-center","bg-primary","border-bottom-green"],[1,"card-body"],[1,"mb-3"],[1,"col-form-label"],["type","text","name","libelle","disabled","",1,"form-control","text-dark",3,"value"],["name","description","disabled","",1,"form-control","text-dark"],["class","chip",4,"ngFor","ngForOf"],[1,"form-group","text-right"],["type","button",1,"btn","btn-outline-danger","radius-30","mx-3",3,"click"],[1,"bx","bx-x-circle","mr-1"],[1,"chip"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a._uU(2," Information d'un profil "),a.qZA(),a.TgZ(3,"div",2),a.TgZ(4,"div",3),a.TgZ(5,"label",4),a._uU(6,"Libell\xe9"),a.qZA(),a._UZ(7,"input",5),a.qZA(),a.TgZ(8,"div",3),a.TgZ(9,"label",4),a._uU(10,"Description"),a.qZA(),a.TgZ(11,"textarea",6),a._uU(12),a.qZA(),a.qZA(),a.TgZ(13,"div",3),a.TgZ(14,"label",4),a._uU(15,"R\xf4les"),a.qZA(),a.TgZ(16,"div"),a.YNc(17,g,2,1,"div",7),a.qZA(),a.qZA(),a.TgZ(18,"div",8),a.TgZ(19,"button",9),a.NdJ("click",function(){return t.onDismiss(!1)}),a._UZ(20,"i",10),a._uU(21," Fermer "),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(7),a.s9C("value",t.profil.libelle),a.xp6(5),a.Oqu(t.profil.description),a.xp6(5),a.Q6J("ngForOf",t.profil.authorities))},directives:[r.sg],styles:[""]}),e})();function m(e,t){1&e&&(a.TgZ(0,"div",17),a.TgZ(1,"h6"),a._uU(2," Aucun profil enregistr\xe9. Veuillez cliquer sur le bouton suivant "),a._UZ(3,"i",18),a.qZA(),a.qZA())}function h(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a.TgZ(8,"div",23),a.TgZ(9,"button",24),a.NdJ("click",function(){const t=a.CHM(e).$implicit;return a.oxw(2).openDetailModal(t)}),a._UZ(10,"i",25),a.qZA(),a.TgZ(11,"button",26),a.NdJ("click",function(){const t=a.CHM(e).$implicit;return a.oxw(2).openCreateUpdateModal(t)}),a._UZ(12,"i",27),a.qZA(),a.TgZ(13,"button",28),a.NdJ("click",function(){const t=a.CHM(e).$implicit;return a.oxw(2).openConfirmModal(t)}),a._UZ(14,"i",29),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=t.$implicit,i=t.index;a.xp6(2),a.Oqu(i+1),a.xp6(2),a.Oqu(e.libelle),a.xp6(2),a.Oqu(e.description)}}function v(e,t){if(1&e&&(a.TgZ(0,"div",19),a.TgZ(1,"table",20),a.TgZ(2,"thead",21),a.TgZ(3,"tr"),a.TgZ(4,"th"),a._uU(5,"#"),a.qZA(),a.TgZ(6,"th"),a._uU(7,"Libell\xe9"),a.qZA(),a.TgZ(8,"th"),a._uU(9,"Description"),a.qZA(),a.TgZ(10,"th"),a._uU(11,"Actions"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(12,"tbody"),a.YNc(13,h,15,3,"tr",22),a.ALo(14,"async"),a.qZA(),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(13),a.Q6J("ngForOf",a.lcZ(14,1,e.profils$))}}const q=[{path:"",component:(()=>{class e{constructor(e,t,i){this.profilService=e,this.modal=t,this.notification=i,this.profils=[]}ngOnInit(){this.profils$=this.profilService.profils$,console.log(this.profils$)}openConfirmModal(e){var t=this;return(0,s.Z)(function*(){const i=t.modal.open(n.X,{size:"lg",backdrop:"static",centered:!0});i.componentInstance.message=`Voulez-vous supprimer le profil #${e.libelle} ?`,yield i.result.then(i=>{!0===i&&t.deleteProfil(e)})})()}openCreateUpdateModal(e){var t=this;return(0,s.Z)(function*(){t.modal.open(b,{size:"lg",backdrop:"static",centered:!0}).componentInstance.profil=e})()}deleteProfil(e){const t=this.profilService.deleteProfil(e.id).subscribe(()=>{t.unsubscribe(),this.notification.open("success",`Le profil #${e.libelle} a \xe9t\xe9 supprim\xe9 avec succ\xe8s !`)},e=>{t.unsubscribe(),this.notification.open("danger",e.error.detail?e.error.detail:"Une erreur est survenue lors de la suppression du profil !")})}openDetailModal(e){var t=this;return(0,s.Z)(function*(){t.modal.open(Z,{size:"lg",backdrop:"static",centered:!0}).componentInstance.profil=e})()}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(d.z),a.Y36(u.FF),a.Y36(p.g))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-profils"]],decls:20,vars:2,consts:[[1,"page-breadcrumb","d-none","d-sm-flex","align-items-center","mb-3"],[1,"breadcrumb-title","pe-3"],[1,"ps-3"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","p-0"],[1,"breadcrumb-item"],["href","#",3,"click"],[1,"bx","bx-home-alt"],["aria-current","page",1,"breadcrumb-item","active"],[1,"card"],[1,"card-body"],[1,"d-lg-flex","align-items-center","mb-4","gap-3"],["class","position-relative",4,"ngIf"],[1,"ms-auto"],["type","button",1,"btn","btn-primary","radius-30","px-3",3,"click"],[1,"bx","bxs-plus-square","mr-1"],["class","table-responsive",4,"ngIf"],[1,"position-relative"],[1,"lni","lni-arrow-right"],[1,"table-responsive"],[1,"table","mb-0"],[1,"table-light"],[4,"ngFor","ngForOf"],[1,"d-flex","order-actions"],["type","button",1,"btn","btn-outline-primary","radius-30","btn-sm","mx-2",3,"click"],[1,"bx","bx-show"],["type","button",1,"btn","btn-outline-success","radius-30","btn-sm",3,"click"],[1,"bx","bxs-edit"],["type","button",1,"btn","btn-outline-danger","radius-30","btn-sm","mx-2",3,"click"],[1,"bx","bxs-trash"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a._uU(2,"Profils"),a.qZA(),a.TgZ(3,"div",2),a.TgZ(4,"nav",3),a.TgZ(5,"ol",4),a.TgZ(6,"li",5),a.TgZ(7,"a",6),a.NdJ("click",function(e){return e.preventDefault()}),a._UZ(8,"i",7),a.qZA(),a.qZA(),a.TgZ(9,"li",8),a._uU(10,"Liste des profils"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(11,"div",9),a.TgZ(12,"div",10),a.TgZ(13,"div",11),a.YNc(14,m,4,0,"div",12),a.TgZ(15,"div",13),a.TgZ(16,"button",14),a.NdJ("click",function(){return t.openCreateUpdateModal(null)}),a._UZ(17,"i",15),a._uU(18," Ajouter un nouveau profil "),a.qZA(),a.qZA(),a.qZA(),a.YNc(19,v,15,3,"div",16),a.qZA(),a.qZA()),2&e&&(a.xp6(14),a.Q6J("ngIf",!t.profils$),a.xp6(5),a.Q6J("ngIf",t.profils$))},directives:[r.O5,r.sg],pipes:[r.Ov],styles:[""]}),e})()},{path:"create-update/:profilId",component:b},{path:"detail-update/:profilId",component:Z}];let A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[o.Bz.forChild(q)],o.Bz]}),e})();var x=i(3156);let T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[r.ez,A,x.I,f.ZQ]]}),e})()},6304:(e,t,i)=>{"use strict";function r(e,t,i,r,o,s,n){try{var l=e[s](n),c=l.value}catch(a){return void i(a)}l.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,i=arguments;return new Promise(function(o,s){var n=e.apply(t,i);function l(e){r(n,o,s,l,c,"next",e)}function c(e){r(n,o,s,l,c,"throw",e)}l(void 0)})}}i.d(t,{Z:()=>o})}}]);