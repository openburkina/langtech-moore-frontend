<!--breadcrumb-->
<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
	<div class="breadcrumb-title pe-3">Mon Profil</div>
	<div class="ps-3">
		<nav aria-label="breadcrumb">
			<ol class="breadcrumb mb-0 p-0">
				<li class="breadcrumb-item"><a href="#" (click)="$event.preventDefault()"><i class="bx bx-home-alt"></i></a>
				</li>
				<li class="breadcrumb-item active" aria-current="page">Mes informations personnelles</li>
			</ol>
		</nav>
	</div>
</div>
<!--end breadcrumb-->
<div class="container">
	<div class="main-body">
		<div class="row">
			<div class="col-lg-4">
				<div class="card">
					<div class="card-body">
						<div class="d-flex flex-column align-items-center text-center">
							<img src="assets/images/avatars/avatar.png" alt="Admin" class="rounded-circle p-1 bg-primary" width="110">
							<div class="mt-3">
								<h4>{{ user?.nom + ' ' + user?.prenom }}</h4>
								<p class="text-secondary mb-1">{{ user?.email }}</p>
								<p class="text-muted font-size-sm">{{ user?.typeUtilisateur }}</p>
								<button class="btn btn-primary m-1">Follow</button>
								<button class="btn btn-outline-primary">Message</button>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-lg-8">
        <div class="card">
          <div class="card-body">
            <ul class="nav nav-pills nav-justified mb-3" role="tablist">
              <li class="nav-item" role="parametres">
                <a class="nav-link active" data-bs-toggle="pill" href="#parametres" role="tab" aria-selected="false">
                  <div class="d-flex align-items-center">
                    <div class="tab-icon"><i class='bx bx-user-pin font-18 me-1'></i>
                    </div>
                    <div class="tab-title">Paramètres du compte</div>
                  </div>
                </a>
              </li>

              <li class="nav-item" role="password">
                <a class="nav-link" data-bs-toggle="pill" href="#password" role="tab" aria-selected="false">
                  <div class="d-flex align-items-center">
                    <div class="tab-icon"><i class='bx bx-lock font-18 me-1'></i>
                    </div>
                    <div class="tab-title">Mot de passe</div>
                  </div>
                </a>
              </li>
            </ul>
            <hr/>

            <div class="tab-content" id="pills-tabContent">
              <div class="tab-pane fade show active" id="parametres" role="parametres">
                <form (ngSubmit)="onGetUserInfos()" [formGroup]="formUser">
                  <div class="row mb-3">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Nom</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      <input type="text" formControlName="nom" name="nom" class="form-control"/>
                    </div>
                  </div>

                  <div class="row mb-3">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Prénom(s)</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      <input type="text" formControlName="prenom" name="prenom" class="form-control"/>
                    </div>
                  </div>

                  <div class="row mb-3">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Email</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      <input type="email" formControlName="email" name="email" class="form-control"/>
                    </div>
                  </div>

                  <div class="row mb-3">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Téléphone</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      <input type="phone" formControlName="telephone" name="telephone" class="form-control"/>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-sm-3"></div>
                    <div class="col-sm-9 text-secondary">
                      <button type="submit" [disabled]="formUser.invalid" class="btn btn-primary px-4">
                        Sauvegarder les modifications
                      </button>
                    </div>
                  </div>
                </form>
              </div>

              <div class="tab-pane fade" id="password" role="password">
                <form [formGroup]="formPassword" (ngSubmit)="onGetPassword()">
                  <div class="row mb-3">
                    <div class="col-sm-4">
                      <h6 class="mb-0">Mot de passe actuel</h6>
                    </div>
                    <div class="col-sm-8 text-secondary">
                      <input type="password" class="form-control" name="currentPassword" formControlName="currentPassword"/>
                    </div>
                  </div>
                  <div class="row mb-3">
                    <div class="col-sm-4">
                      <h6 class="mb-0">Nouveau mot de passe</h6>
                    </div>
                    <div class="col-sm-8 text-secondary">
                      <input type="password" class="form-control" name="newPassword" formControlName="newPassword"/>
                    </div>
                  </div>
                  <div class="row mb-3">
                    <div class="col-sm-4">
                      <h6 class="mb-0">Confirmation du nouveau mot de passe</h6>
                    </div>
                    <div class="col-sm-8 text-secondary">
                      <input type="password" class="form-control" name="confirmPassword" formControlName="confirmPassword"/>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-sm-4"></div>
                    <div class="col-sm-8 text-secondary">
                      <button type="submit" [disabled]="formPassword.invalid" class="btn btn-primary px-4">
                        Sauvegarder les modifications
                      </button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
			</div>
		</div>
	</div>
</div>
