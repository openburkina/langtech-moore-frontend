<div class="card-header text-white text-center bg-primary border-bottom-green">
  Créer ou modifier une catégorie
</div>


<div class="modal-body">
  <form [formGroup]="formCategorie" (ngSubmit)="getCategorieInfos()">
    <div class="mb-3">
      <span>Voukez-vous creer une catégorie ou sous sous-catégorie?</span>
    </div>
    <div class="row">
      <div class="col-md-4 offset-2 form-check">
        <input class="form-check-input" type="radio" name="typeCategorie" id="categorie" formControlName="typeCategorie" [value]="1" (change)="setValidator()">
        <label class="form-check-label" for="categorie">Categorie</label>
      </div>
      <div class="col-md-6 form-check">
        <input class="form-check-input" type="radio" name="typeCategorie" id="souscategorie" [value]="2" formControlName="typeCategorie" (change)="setValidator()">
        <label class="form-check-label" for="souscategorie">Sous-catégorie</label>
      </div>
    </div>
    <div class="mb-3">
      <label for="libelle" class="col-form-label">Libellé</label>
      <input class="form-control" type="text" name="libelle" formControlName="libelle" id="libelle">
    </div>

    <div class="mb-3">
      <label for="description" class="col-form-label">Description</label>
      <textarea class="form-control" name="description" formControlName="description" id="description"></textarea>
    </div>
    <div class="mb-3" *ngIf="listeCategories.length > 0 && formCategorie.value.typeCategorie == 2">
      <label for="categId" class="col-form-label">Parent</label>
      <select class="form-select form-select mb-3" aria-label=".form-select-lg example" name="parent"
              formControlName="categId" id="categId">
        <option *ngFor="let item of listeCategories" [ngValue]="item.id">{{item.libelle}}</option>
      </select>
    </div>

    <div class="form-group text-right">
      <button type="button" class="btn btn-outline-danger radius-30 mx-3" (click)="fermer()">
        <i class='bx bx-x-circle mr-1'></i> Annuler
      </button>

      <button type="submit" class="btn btn-outline-success radius-30" [disabled]="formCategorie.invalid">
        <i class='bx bx-check-square'></i> Valider
      </button>
    </div>
  </form>
</div>
<div class="modal-footer">

</div>
